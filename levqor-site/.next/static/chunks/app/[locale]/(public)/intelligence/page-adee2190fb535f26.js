(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5267],{3411:function(e,s,t){Promise.resolve().then(t.bind(t,1541))},1541:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return a}});var r=t(7437),l=t(2265);function a(){var e,s,t,a,c,d,o,m,x,u,h,g,v,p,b,j;let[N,f]=(0,l.useState)({}),[y,w]=(0,l.useState)(!0),[_,D]=(0,l.useState)(null);(0,l.useEffect)(()=>{k();let e=setInterval(k,3e4);return()=>clearInterval(e)},[]);let k=async()=>{try{let e=await fetch("/api/intelligence/status");if(!e.ok)throw Error("Failed to fetch intelligence data");let s=await e.json();f(s),D(null)}catch(e){D(e instanceof Error?e.message:"Unknown error")}finally{w(!1)}};return y?(0,r.jsx)("div",{className:"max-w-6xl mx-auto p-6",children:(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"}),(0,r.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading intelligence data..."})]})}):_?(0,r.jsx)("div",{className:"max-w-6xl mx-auto p-6",children:(0,r.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[(0,r.jsx)("h2",{className:"text-red-800 font-semibold",children:"Error loading data"}),(0,r.jsx)("p",{className:"text-red-600",children:_})]})}):(0,r.jsxs)("div",{className:"max-w-6xl mx-auto p-6 space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold",children:"\uD83E\uDDE0 Intelligence Dashboard"}),(0,r.jsxs)("div",{className:"text-sm text-gray-500",children:["Last updated: ",N.timestamp?new Date(N.timestamp).toLocaleString():"N/A"]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsx)(n,{title:"Risk Score",value:(null===(e=N.risk)||void 0===e?void 0:e.score)!==void 0?"".concat(N.risk.score,"/100"):"N/A",subtitle:(null===(s=N.risk)||void 0===s?void 0:s.level)||"N/A",color:(null===(t=N.risk)||void 0===t?void 0:t.score)!==void 0?N.risk.score>=80?"green":N.risk.score>=60?"yellow":"red":"gray"}),(0,r.jsx)(n,{title:"Revenue Forecast (30d)",value:(null===(c=N.forecasts)||void 0===c?void 0:null===(a=c.revenue)||void 0===a?void 0:a.predicted_revenue)!==void 0?"$".concat(N.forecasts.revenue.predicted_revenue.toFixed(2)):"N/A",subtitle:(null===(o=N.forecasts)||void 0===o?void 0:null===(d=o.revenue)||void 0===d?void 0:d.confidence)||"N/A",color:"blue"}),(0,r.jsx)(n,{title:"Partner Health",value:(null===(x=N.forecasts)||void 0===x?void 0:null===(m=x.partner_health)||void 0===m?void 0:m.health_score)!==void 0?"".concat(N.forecasts.partner_health.health_score,"/100"):"N/A",subtitle:"".concat((null===(h=N.forecasts)||void 0===h?void 0:null===(u=h.partner_health)||void 0===u?void 0:u.total_partners)||0," partners"),color:"purple"})]}),(0,r.jsx)(i,{title:"\uD83D\uDEA8 System Health",children:(null===(g=N.health)||void 0===g?void 0:g.anomalies)&&N.health.anomalies.length>0?(0,r.jsx)("div",{className:"space-y-2",children:N.health.anomalies.map((e,s)=>(0,r.jsxs)("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-3",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{className:"font-medium",children:e.event}),(0,r.jsx)("span",{className:"text-sm text-gray-600",children:new Date(e.timestamp).toLocaleString()})]}),(0,r.jsxs)("p",{className:"text-sm text-gray-700 mt-1",children:["Current: ",e.value.toFixed(0)," | Average: ",e.mean.toFixed(0)]})]},s))}):(0,r.jsx)("p",{className:"text-gray-600",children:"✅ No anomalies detected - system healthy"})}),(0,r.jsx)(i,{title:"\uD83D\uDD27 Self-Healing Actions",children:(null===(v=N.health)||void 0===v?void 0:v.recent_actions)&&N.health.recent_actions.length>0?(0,r.jsx)("div",{className:"space-y-2",children:N.health.recent_actions.slice(0,5).map((e,s)=>(0,r.jsxs)("div",{className:"border rounded-lg p-3 ".concat(e.success?"bg-green-50 border-green-200":"bg-red-50 border-red-200"),children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("span",{className:"font-medium",children:[e.success?"✅":"❌"," ",e.action]}),(0,r.jsx)("span",{className:"text-sm text-gray-600",children:new Date(e.timestamp).toLocaleString()})]}),(0,r.jsxs)("p",{className:"text-sm text-gray-700 mt-1",children:["Issue: ",e.issue]})]},s))}):(0,r.jsx)("p",{className:"text-gray-600",children:"No recent self-healing actions"})}),(0,r.jsx)(i,{title:"\uD83D\uDCA1 AI Recommendations",children:N.decisions&&N.decisions.length>0?(0,r.jsx)("div",{className:"space-y-2",children:N.decisions.map((e,s)=>(0,r.jsxs)("div",{className:"border rounded-lg p-3 ".concat("high"===e.priority?"bg-red-50 border-red-200":"medium"===e.priority?"bg-yellow-50 border-yellow-200":"bg-blue-50 border-blue-200"),children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("span",{className:"font-medium text-sm uppercase",children:[e.priority," Priority"]}),(0,r.jsx)("span",{className:"text-xs text-gray-500",children:e.type})]}),(0,r.jsx)("p",{className:"mt-2 text-gray-800",children:e.message}),(0,r.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:e.metric})]},s))}):(0,r.jsx)("p",{className:"text-gray-600",children:"✅ No recommendations - system optimized"})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)(i,{title:"\uD83D\uDCCA Forecasts",children:[(null===(p=N.forecasts)||void 0===p?void 0:p.revenue)&&(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("h4",{className:"font-semibold text-gray-700",children:"Revenue (30 days)"}),(0,r.jsxs)("p",{className:"text-2xl font-bold text-green-600",children:["$",N.forecasts.revenue.predicted_revenue.toFixed(2)]}),(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:["Daily avg: $",N.forecasts.revenue.daily_average.toFixed(2)," |"," ",N.forecasts.revenue.confidence," confidence"]})]}),(null===(b=N.forecasts)||void 0===b?void 0:b.churn)&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-semibold text-gray-700",children:"Churn Rate"}),(0,r.jsxs)("p",{className:"text-2xl font-bold text-orange-600",children:[N.forecasts.churn.churn_rate.toFixed(1),"%"]}),(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:[N.forecasts.churn.active_users," active / ",N.forecasts.churn.total_users," ","total"]})]})]}),(0,r.jsx)(i,{title:"⚙️ Scaling",children:(null===(j=N.scaling)||void 0===j?void 0:j.current)&&(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsx)("span",{className:"text-sm text-gray-700",children:"Latency"}),(0,r.jsxs)("span",{className:"font-mono",children:[N.scaling.current.latency_ms,"ms"]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsx)("span",{className:"text-sm text-gray-700",children:"Queue Length"}),(0,r.jsx)("span",{className:"font-mono",children:N.scaling.current.queue_length})]}),N.scaling.current.scaling_action&&(0,r.jsx)("div",{className:"mt-3 p-2 bg-blue-50 border border-blue-200 rounded",children:(0,r.jsxs)("p",{className:"text-sm font-medium text-blue-800",children:["\uD83D\uDD04 Action: ",N.scaling.current.scaling_action]})})]})})]}),N.risk&&N.risk.factors&&N.risk.factors.length>0&&(0,r.jsx)(i,{title:"⚠️ Risk Factors",children:(0,r.jsx)("ul",{className:"list-disc list-inside space-y-1 text-gray-700",children:N.risk.factors.map((e,s)=>(0,r.jsx)("li",{children:e},s))})})]})}function i(e){let{title:s,children:t}=e;return(0,r.jsxs)("div",{className:"border rounded-2xl p-6 bg-white shadow-sm",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:s}),t]})}function n(e){let{title:s,value:t,subtitle:l,color:a}=e;return(0,r.jsxs)("div",{className:"border rounded-lg p-4 ".concat({green:"bg-green-50 border-green-200 text-green-800",yellow:"bg-yellow-50 border-yellow-200 text-yellow-800",red:"bg-red-50 border-red-200 text-red-800",blue:"bg-blue-50 border-blue-200 text-blue-800",purple:"bg-purple-50 border-purple-200 text-purple-800",gray:"bg-gray-50 border-gray-200 text-gray-800"}[a]),children:[(0,r.jsx)("h3",{className:"text-sm font-medium opacity-75",children:s}),(0,r.jsx)("p",{className:"text-2xl font-bold mt-2",children:t}),(0,r.jsx)("p",{className:"text-sm opacity-75 mt-1",children:l})]})}}},function(e){e.O(0,[2971,2117,1744],function(){return e(e.s=3411)}),_N_E=e.O()}]);