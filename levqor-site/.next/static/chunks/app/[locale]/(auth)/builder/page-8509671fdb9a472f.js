(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[837],{1525:function(e,t,a){Promise.resolve().then(a.bind(a,4359))},7648:function(e,t,a){"use strict";a.d(t,{default:function(){return s.a}});var r=a(2972),s=a.n(r)},9376:function(e,t,a){"use strict";var r=a(5475);a.o(r,"permanentRedirect")&&a.d(t,{permanentRedirect:function(){return r.permanentRedirect}}),a.o(r,"redirect")&&a.d(t,{redirect:function(){return r.redirect}}),a.o(r,"useParams")&&a.d(t,{useParams:function(){return r.useParams}}),a.o(r,"usePathname")&&a.d(t,{usePathname:function(){return r.usePathname}}),a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}}),a.o(r,"useSearchParams")&&a.d(t,{useSearchParams:function(){return r.useSearchParams}})},4359:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return l}});var r=a(7437),s=a(2265),n=a(7526),i=a(9376),o=a(7648);function l(){let{data:e}=(0,n.kP)(),t=(0,i.useParams)(),a=(null==t?void 0:t.locale)||"en",[l,d]=(0,s.useState)(""),[c,u]=(0,s.useState)(!1),[m,h]=(0,s.useState)(null),[x,b]=(0,s.useState)(""),[p,f]=(0,s.useState)(!1),[g,y]=(0,s.useState)(!1),v=async()=>{if(!l.trim()||l.length<10){b("Please describe what you want to automate (at least 10 characters)");return}u(!0),b(""),h(null),y(!1);try{var t,a;let r=await fetch("".concat("https://api.levqor.ai","/api/builder/generate"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:l,email:null==e?void 0:null===(t=e.user)||void 0===t?void 0:t.email})}),s=await r.json();s.ok?(h({yaml:s.yaml,summary:s.summary}),(null==e?void 0:null===(a=e.user)||void 0===a?void 0:a.email)&&fetch("".concat("https://api.levqor.ai","/api/wow/brain/event"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e.user.email,event_type:"builder_session_start",data:{prompt:l}})})):b(s.error||"Failed to generate workflow")}catch(e){b("Something went wrong. Please try again.")}finally{u(!1)}},w=async()=>{var t;if(m&&(null==e?void 0:null===(t=e.user)||void 0===t?void 0:t.email)){f(!0);try{let t="https://api.levqor.ai",a=await fetch("".concat(t,"/api/builder/save"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e.user.email,yaml:m.yaml,summary:m.summary,prompt:l})}),r=await a.json();r.ok&&(y(!0),fetch("".concat(t,"/api/wow/brain/event"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e.user.email,event_type:"workflow_created",data:{workflow_id:r.workflow_id}})}))}catch(e){b("Failed to save workflow")}finally{f(!1)}}};return(0,r.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,r.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"AI Workflow Builder"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Describe what you want to automate and let AI create it"})]}),(0,r.jsx)(o.default,{href:"/".concat(a,"/builder/history"),className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"View History"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[(0,r.jsx)("h2",{className:"font-semibold text-gray-900 mb-4",children:"Describe Your Workflow"}),(0,r.jsx)("textarea",{value:l,onChange:e=>d(e.target.value),placeholder:"Example: Create a daily backup workflow that saves my database to cloud storage every night at 2 AM and sends me an email when it's complete.",className:"w-full h-40 px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none"}),(0,r.jsx)("div",{className:"flex gap-3 mt-4",children:(0,r.jsx)("button",{onClick:v,disabled:c||!l.trim(),className:"flex-1 py-3 px-4 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:c?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Generating..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"Generate Workflow"]})})}),x&&(0,r.jsx)("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg text-sm text-red-600",children:x}),(0,r.jsxs)("div",{className:"mt-6 pt-6 border-t border-gray-100",children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Quick Prompts"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:["Daily database backup","Sync data between apps","Monitor website uptime","Weekly report automation"].map(e=>(0,r.jsx)("button",{onClick:()=>d(e),className:"px-3 py-1.5 text-sm bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-full transition-colors",children:e},e))})]})]}),(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsx)("h2",{className:"font-semibold text-gray-900",children:"Generated Workflow"}),m&&(0,r.jsx)("button",{onClick:w,disabled:p||g,className:"px-4 py-2 text-sm font-medium rounded-lg transition-colors ".concat(g?"bg-green-100 text-green-700":"bg-blue-100 text-blue-700 hover:bg-blue-200"),children:p?"Saving...":g?"Saved!":"Save Workflow"})]}),m?(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("div",{className:"prose prose-sm max-w-none",children:(0,r.jsx)("div",{dangerouslySetInnerHTML:{__html:m.summary.replace(/\n/g,"<br>").replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/##\s?(.*?)$/gm,"<h3>$1</h3>")}})}),(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"YAML Configuration"}),(0,r.jsx)("pre",{className:"bg-gray-900 text-green-400 p-4 rounded-lg text-xs overflow-auto max-h-64",children:m.yaml})]})]}):(0,r.jsx)("div",{className:"h-64 flex items-center justify-center text-gray-400",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("svg",{className:"w-12 h-12 mx-auto mb-3 text-gray-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})}),(0,r.jsx)("p",{children:"Describe your workflow and click Generate"})]})})]})]})]})})}}},function(e){e.O(0,[2972,7526,2971,2117,1744],function(){return e(e.s=1525)}),_N_E=e.O()}]);