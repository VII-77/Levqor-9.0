(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2704],{8308:function(e,s,t){Promise.resolve().then(t.bind(t,418))},7648:function(e,s,t){"use strict";t.d(s,{default:function(){return r.a}});var a=t(2972),r=t.n(a)},9376:function(e,s,t){"use strict";var a=t(5475);t.o(a,"permanentRedirect")&&t.d(s,{permanentRedirect:function(){return a.permanentRedirect}}),t.o(a,"redirect")&&t.d(s,{redirect:function(){return a.redirect}}),t.o(a,"useParams")&&t.d(s,{useParams:function(){return a.useParams}}),t.o(a,"usePathname")&&t.d(s,{usePathname:function(){return a.usePathname}}),t.o(a,"useRouter")&&t.d(s,{useRouter:function(){return a.useRouter}}),t.o(a,"useSearchParams")&&t.d(s,{useSearchParams:function(){return a.useSearchParams}})},418:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return c}});var a=t(7437),r=t(2265),n=t(9376),l=t(7648);function c(){let e=(0,n.useParams)(),s=(null==e?void 0:e.locale)||"en",[t,c]=(0,r.useState)([]),[i,d]=(0,r.useState)(null),[o,x]=(0,r.useState)(!0),[m,u]=(0,r.useState)(null);(0,r.useEffect)(()=>{!async function(){x(!0),u(null);try{let e="https://api.levqor.ai",[s,t]=await Promise.all([fetch("".concat(e,"/api/revenue/leads?limit=20")).catch(()=>null),fetch("".concat(e,"/api/revenue/dfy/summary")).catch(()=>null)]);if(null==s?void 0:s.ok){let e=await s.json();c(e.leads||[])}if(null==t?void 0:t.ok){let e=await t.json();d(e)}}catch(e){console.error("Failed to fetch revenue data:",e),u("Could not load revenue data right now.")}finally{x(!1)}}()},[]);let h=e=>new Date(1e3*e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),p=e=>{switch(e){case"new":return"bg-blue-100 text-blue-800";case"contacted":return"bg-yellow-100 text-yellow-800";case"qualified":return"bg-purple-100 text-purple-800";case"won":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},g=e=>{switch(e){case"new":return"bg-blue-100 text-blue-800";case"in_progress":return"bg-yellow-100 text-yellow-800";case"delivered":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}};return(0,a.jsx)("main",{className:"min-h-screen bg-gray-50 p-4 md:p-8",children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsxs)(l.default,{href:"/".concat(s,"/dashboard"),className:"text-sm text-blue-600 hover:text-blue-700 flex items-center gap-1",children:[(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Dashboard"]})}),(0,a.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Revenue Inbox"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"Track your sales leads and DFY service requests"})]})}),m&&(0,a.jsx)("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:m}),(0,a.jsxs)("div",{className:"grid md:grid-cols-3 gap-6 mb-6",children:[(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0z"})})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:t.length}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Total Leads"})]})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)("svg",{className:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:(null==i?void 0:i.total_requests)||0}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"DFY Requests"})]})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:t.filter(e=>"won"===e.stage).length}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Converted"})]})]})})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow mb-6",children:[(0,a.jsxs)("div",{className:"p-6 border-b border-gray-200",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Sales Leads"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Recent leads from your pricing page and signup flow"})]}),o?(0,a.jsxs)("div",{className:"p-8 text-center text-gray-500",children:[(0,a.jsxs)("svg",{className:"animate-spin h-6 w-6 mx-auto mb-2",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading leads..."]}):0===t.length?(0,a.jsxs)("div",{className:"p-8 text-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,a.jsx)("svg",{className:"w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0z"})})}),(0,a.jsx)("p",{className:"text-gray-600 mb-2",children:"No leads yet."}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Leads will appear here when visitors sign up or request a demo."})]}):(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"bg-gray-50 text-left",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),(0,a.jsx)("th",{className:"px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Source"}),(0,a.jsx)("th",{className:"px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Plan Intent"}),(0,a.jsx)("th",{className:"px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stage"}),(0,a.jsx)("th",{className:"px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-gray-200",children:t.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center text-gray-600 text-sm font-medium",children:e.email.charAt(0).toUpperCase()}),(0,a.jsx)("span",{className:"text-sm text-gray-900",children:e.email})]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:e.source}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:e.plan_intent}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("span",{className:"text-xs font-medium px-2 py-1 rounded-full ".concat(p(e.stage)),children:e.stage})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:h(e.created_at)})]},e.id))})]})})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,a.jsxs)("div",{className:"p-6 border-b border-gray-200",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"DFY Requests"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Done-For-You service requests from customers"})]}),o?(0,a.jsxs)("div",{className:"p-8 text-center text-gray-500",children:[(0,a.jsxs)("svg",{className:"animate-spin h-6 w-6 mx-auto mb-2",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading DFY requests..."]}):i&&0!==i.total_requests?(0,a.jsx)("div",{className:"p-6",children:(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"By Status"}),(0,a.jsx)("div",{className:"space-y-2",children:Object.entries(i.by_status).map(e=>{let[s,t]=e;return(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-xs font-medium px-2 py-1 rounded-full ".concat(g(s)),children:s.replace("_"," ")}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900",children:t})]},s)})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Top Use Cases"}),(0,a.jsx)("div",{className:"space-y-2",children:i.by_use_case.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600 truncate max-w-[200px]",children:e.use_case}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900",children:e.count})]},s))})]})]})}):(0,a.jsxs)("div",{className:"p-8 text-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,a.jsx)("svg",{className:"w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),(0,a.jsx)("p",{className:"text-gray-600 mb-2",children:"No DFY requests yet."}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Requests will appear here when customers request Done-For-You services."})]})]})]})})}}},function(e){e.O(0,[2972,2971,2117,1744],function(){return e(e.s=8308)}),_N_E=e.O()}]);