(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2535],{6650:function(e,t,r){Promise.resolve().then(r.bind(r,8716))},9376:function(e,t,r){"use strict";var a=r(5475);r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(t,{useSearchParams:function(){return a.useSearchParams}})},8716:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return n}});var a=r(7437),s=r(2265),l=r(5934),d=r(9376),i=r(7648);function n(){let{data:e,status:t}=(0,l.kP)(),r=(0,d.useRouter)(),[n,o]=(0,s.useState)([]),[c,x]=(0,s.useState)(null),[h,m]=(0,s.useState)(null),[g,u]=(0,s.useState)(!0),[b,y]=(0,s.useState)(!1),[p,k]=(0,s.useState)(null);(0,s.useEffect)(()=>{"unauthenticated"===t?r.push("/signin?callbackUrl=/developer/keys"):"authenticated"===t&&(j(),N())},[t,r]);let j=async()=>{try{let t=await fetch("https://api.levqor.ai/api/developer/keys",{headers:{Authorization:"Bearer ".concat(null==e?void 0:e.accessToken)}});if(t.ok){let e=await t.json();o(e.keys||[])}}catch(e){console.error("Failed to fetch keys:",e)}finally{u(!1)}},N=async()=>{try{let t=await fetch("https://api.levqor.ai/api/developer/usage",{headers:{Authorization:"Bearer ".concat(null==e?void 0:e.accessToken)}});if(t.ok){let e=await t.json();x(e.current_period)}}catch(e){console.error("Failed to fetch usage:",e)}},v=async t=>{y(!0),k(null),m(null);try{let r=await fetch("https://api.levqor.ai/api/developer/keys",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(null==e?void 0:e.accessToken)},body:JSON.stringify({tier:t})}),a=await r.json();r.ok?(m(a.key),j(),N()):k(a.message||a.error||"Failed to create API key")}catch(e){k("Network error. Please try again.")}finally{y(!1)}},f=async t=>{if(confirm("Are you sure you want to revoke this API key? This action cannot be undone."))try{(await fetch("https://api.levqor.ai/api/developer/keys/".concat(t),{method:"DELETE",headers:{Authorization:"Bearer ".concat(null==e?void 0:e.accessToken)}})).ok&&(j(),N())}catch(e){console.error("Failed to revoke key:",e)}},w=e=>{navigator.clipboard.writeText(e),alert("Copied to clipboard!")};if("loading"===t||g)return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading..."})]})});let _=n.some(e=>e.is_active);return(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-12",children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)(i.default,{href:"/developer",className:"text-blue-600 dark:text-blue-400 hover:underline mb-4 inline-block",children:"← Back to Developer Portal"}),(0,a.jsx)("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-2",children:"API Keys"}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage your Levqor API keys and monitor usage"})]}),c&&(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6 mb-8",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Current Usage"}),(0,a.jsxs)("div",{className:"grid md:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Calls Used"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:c.calls_used.toLocaleString()})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Calls Remaining"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:c.calls_remaining.toLocaleString()})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Resets On"}),(0,a.jsx)("p",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:new Date(c.reset_at).toLocaleDateString()})]})]}),(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("div",{className:"bg-gray-200 dark:bg-gray-700 rounded-full h-3",children:(0,a.jsx)("div",{className:"bg-blue-600 h-3 rounded-full transition-all",style:{width:"".concat(c.calls_used/c.calls_limit*100,"%")}})}),(0,a.jsxs)("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-2 text-right",children:[(c.calls_used/c.calls_limit*100).toFixed(1),"% used"]})]})]}),h&&(0,a.jsxs)("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-xl p-6 mb-8",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-green-900 dark:text-green-100 mb-2",children:"✅ API Key Created Successfully!"}),(0,a.jsx)("p",{className:"text-sm text-green-800 dark:text-green-200 mb-4",children:"Copy this key now - you won't be able to see it again!"}),(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 flex items-center justify-between",children:[(0,a.jsx)("code",{className:"text-sm font-mono text-gray-900 dark:text-white flex-1",children:h}),(0,a.jsx)("button",{onClick:()=>w(h),className:"ml-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Copy"})]})]}),p&&(0,a.jsx)("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl p-4 mb-8",children:(0,a.jsx)("p",{className:"text-red-800 dark:text-red-200",children:p})}),!_&&(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6 mb-8",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Create Your First API Key"}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Choose a tier to get started. You can upgrade anytime."}),(0,a.jsxs)("div",{className:"grid md:grid-cols-3 gap-4",children:[(0,a.jsxs)("button",{onClick:()=>v("sandbox"),disabled:b,className:"p-4 border-2 border-gray-300 dark:border-gray-600 rounded-lg hover:border-blue-600 dark:hover:border-blue-400 transition-colors disabled:opacity-50",children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:"Sandbox"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"1,000 calls/mo - Free"})]}),(0,a.jsxs)("button",{onClick:()=>v("pro"),disabled:b,className:"p-4 border-2 border-blue-600 dark:border-blue-400 rounded-lg hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors disabled:opacity-50",children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:"Pro"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"10,000 calls/mo - $19/mo"})]}),(0,a.jsxs)("button",{onClick:()=>v("enterprise"),disabled:b,className:"p-4 border-2 border-gray-300 dark:border-gray-600 rounded-lg hover:border-purple-600 dark:hover:border-purple-400 transition-colors disabled:opacity-50",children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:"Enterprise"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Unlimited - $199/mo"})]})]})]}),(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Your API Keys"}),0===n.length?(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-center py-8",children:"No API keys yet. Create one to get started!"}):(0,a.jsx)("div",{className:"space-y-4",children:n.map(e=>(0,a.jsx)("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,a.jsx)("code",{className:"text-sm font-mono text-gray-900 dark:text-white bg-gray-100 dark:bg-gray-700 px-3 py-1 rounded",children:e.key_prefix}),(0,a.jsx)("span",{className:"px-2 py-1 text-xs font-semibold rounded ".concat("enterprise"===e.tier?"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200":"pro"===e.tier?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"),children:e.tier.toUpperCase()}),!e.is_active&&(0,a.jsx)("span",{className:"px-2 py-1 text-xs font-semibold rounded bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",children:"REVOKED"})]}),(0,a.jsxs)("div",{className:"grid md:grid-cols-3 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Calls Used"}),(0,a.jsxs)("p",{className:"font-semibold text-gray-900 dark:text-white",children:[e.calls_used.toLocaleString()," / ",e.calls_limit.toLocaleString()]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Created"}),(0,a.jsx)("p",{className:"font-semibold text-gray-900 dark:text-white",children:new Date(e.created_at).toLocaleDateString()})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Last Used"}),(0,a.jsx)("p",{className:"font-semibold text-gray-900 dark:text-white",children:e.last_used_at?new Date(e.last_used_at).toLocaleDateString():"Never"})]})]})]}),e.is_active&&(0,a.jsx)("button",{onClick:()=>f(e.key_id),className:"ml-4 px-4 py-2 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",children:"Revoke"})]})},e.key_id))})]}),(0,a.jsx)("div",{className:"mt-8 text-center",children:(0,a.jsx)(i.default,{href:"/developer/docs",className:"text-blue-600 dark:text-blue-400 hover:underline",children:"View API Documentation →"})})]})})}}},function(e){e.O(0,[2972,4302,2971,2117,1744],function(){return e(e.s=6650)}),_N_E=e.O()}]);