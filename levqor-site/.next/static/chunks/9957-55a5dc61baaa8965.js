(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9957],{7648:function(e,t,r){"use strict";r.d(t,{default:function(){return a.a}});var n=r(2972),a=r.n(n)},257:function(e,t,r){"use strict";var n,a;e.exports=(null==(n=r.g.process)?void 0:n.env)&&"object"==typeof(null==(a=r.g.process)?void 0:a.env)?r.g.process:r(4227)},4227:function(e){!function(){var t={229:function(e){var t,r,n,a=e.exports={};function o(){throw Error("setTimeout has not been defined")}function u(){throw Error("clearTimeout has not been defined")}function c(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:o}catch(e){t=o}try{r="function"==typeof clearTimeout?clearTimeout:u}catch(e){r=u}}();var i=[],l=!1,s=-1;function f(){l&&n&&(l=!1,n.length?i=n.concat(i):s=-1,i.length&&d())}function d(){if(!l){var e=c(f);l=!0;for(var t=i.length;t;){for(n=i,i=[];++s<t;)n&&n[s].run();s=-1,t=i.length}n=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===u||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function h(){}a.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];i.push(new m(e,t)),1!==i.length||l||c(d)},m.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=h,a.addListener=h,a.once=h,a.off=h,a.removeListener=h,a.removeAllListeners=h,a.emit=h,a.prependListener=h,a.prependOnceListener=h,a.listeners=function(e){return[]},a.binding=function(e){throw Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw Error("process.chdir is not supported")},a.umask=function(){return 0}}},r={};function n(e){var a=r[e];if(void 0!==a)return a.exports;var o=r[e]={exports:{}},u=!0;try{t[e](o,o.exports,n),u=!1}finally{u&&delete r[e]}return o.exports}n.ab="//";var a=n(229);e.exports=a}()},3130:function(e,t,r){"use strict";r.d(t,{default:function(){return c}});var n=r(7437),a=r(7798),o=r(6064),u=r(6369);function c(e){let{className:t}=e,{state:r}=(0,o.useLevqorBrain)();return(0,n.jsxs)("div",{className:"relative ".concat(t||""),children:[(0,n.jsx)(a.default,{brainState:r,className:"w-full h-full"}),(0,n.jsxs)("div",{className:"absolute bottom-2 left-2 text-xs text-white/70 bg-black/20 px-2 py-0.5 rounded",children:["Brain: ",r.charAt(0).toUpperCase()+r.slice(1)]}),(0,n.jsx)("div",{className:"absolute top-2 right-2",children:(0,n.jsx)(u.default,{})})]})}},8868:function(e,t,r){"use strict";r.d(t,{default:function(){return i}});var n=r(7437),a=r(7648),o=r(2265),u=r(6064),c=r(5911);function i(e){let{primaryHref:t,primaryText:r,secondaryHref:i,secondaryText:l,className:s=""}=e,f=(0,u.useLevqorBrainOptional)(),d=(0,o.useRef)(null),m=(0,o.useCallback)(()=>{if(f){let e=(0,c.L2)({currentState:f.state,uiEvent:"hover_primary_cta"});f.setState(e)}},[f]),h=(0,o.useCallback)(()=>{if(f){d.current&&clearTimeout(d.current);let e=(0,c.L2)({currentState:f.state,uiEvent:"idle"});f.setState(e)}},[f]),v=(0,o.useCallback)(()=>{if(f){d.current&&clearTimeout(d.current);let e=(0,c.L2)({currentState:f.state,uiEvent:"click_primary_cta"});f.setState(e);let t=(0,c.dS)(e);t>0&&(d.current=setTimeout(()=>{f.setOrganic()},t))}},[f]),g=(0,o.useCallback)(()=>{if(f){let e=(0,c.L2)({currentState:f.state,uiEvent:"hover_secondary_cta"});f.setState(e)}},[f]),p=(0,o.useCallback)(()=>{if(f){let e=(0,c.L2)({currentState:f.state,uiEvent:"idle"});f.setState(e)}},[f]);return(0,n.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center lg:justify-start ".concat(s),children:[(0,n.jsxs)(a.default,{href:t,className:"group px-8 py-4 bg-gradient-to-r from-primary-600 to-secondary-600 text-white rounded-xl font-semibold hover:from-primary-700 hover:to-secondary-700 transition-all text-lg shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",onMouseEnter:m,onMouseLeave:h,onClick:v,onFocus:m,onBlur:h,children:[r,(0,n.jsx)("svg",{className:"inline-block w-5 h-5 ml-2 group-hover:translate-x-1 transition-transform",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]}),(0,n.jsx)(a.default,{href:i,className:"group px-8 py-4 border-2 border-neutral-800 text-neutral-900 rounded-xl font-semibold hover:bg-neutral-800 hover:text-white transition-all text-lg",onMouseEnter:g,onMouseLeave:p,onFocus:g,onBlur:p,children:l})]})}},7798:function(e,t,r){"use strict";r.d(t,{default:function(){return d}});var n=r(7437),a=r(2265),o=r(994),u=r(6813),c=r(257);function i(e){let t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?[parseInt(t[1],16)/255,parseInt(t[2],16)/255,parseInt(t[3],16)/255]:[0,0,0]}function l(e){let{canvasRef:t,brainState:r,reducedMotion:n,soundIntensity:u=0}=e,c=(0,a.useRef)(null),l=(0,a.useRef)(null),s=(0,a.useRef)(0),f=(0,a.useRef)(Date.now()),d=(0,a.useRef)(u);(0,a.useEffect)(()=>{d.current=u},[u]);let m=(0,a.useCallback)((e,t,r)=>{let n=e.createShader(t);return n?(e.shaderSource(n,r),e.compileShader(n),e.getShaderParameter(n,e.COMPILE_STATUS))?n:(console.warn("Shader compile error:",e.getShaderInfoLog(n)),e.deleteShader(n),null):null},[]),h=(0,a.useCallback)(e=>{let t=m(e,e.VERTEX_SHADER,"\n  attribute vec2 a_position;\n  void main() {\n    gl_Position = vec4(a_position, 0.0, 1.0);\n  }\n"),r=m(e,e.FRAGMENT_SHADER,"\n  precision mediump float;\n  uniform float u_time;\n  uniform vec2 u_resolution;\n  uniform vec3 u_color1;\n  uniform vec3 u_color2;\n  uniform vec3 u_color3;\n  uniform float u_state;\n  uniform float u_sound;\n\n  float noise(vec2 p) {\n    return fract(sin(dot(p, vec2(12.9898, 78.233))) * 43758.5453);\n  }\n\n  float hash(vec2 p) {\n    return fract(sin(dot(p, vec2(127.1, 311.7))) * 43758.5453123);\n  }\n\n  void main() {\n    vec2 uv = gl_FragCoord.xy / u_resolution;\n    float soundMod = 1.0 + u_sound * 0.3;\n    float t = u_time * 0.5 * soundMod;\n    \n    // Base waves (shared across all states)\n    float wave1 = sin(uv.x * 3.0 + t) * 0.5 + 0.5;\n    float wave2 = sin(uv.y * 2.0 - t * 0.7) * 0.5 + 0.5;\n    float wave3 = sin((uv.x + uv.y) * 4.0 + t * 1.3) * 0.5 + 0.5;\n    float baseBlend = (wave1 + wave2 + wave3) / 3.0;\n    \n    // State-specific effects\n    // u_state: 0=organic, 0.25=neural, 0.5=quantum, 0.75=success, 1.0=error\n    \n    float effectStrength = 0.0;\n    float pulseEffect = 0.0;\n    float noiseEffect = 0.0;\n    float gridEffect = 0.0;\n    float flashOverlay = 0.0;\n    vec3 flashColor = vec3(0.0);\n    \n    // ORGANIC (u_state ~0): Soft breathing, slow motion\n    if (u_state < 0.125) {\n      float breathe = sin(t * 0.3) * 0.5 + 0.5;\n      effectStrength = 0.3 + breathe * 0.1;\n    }\n    // NEURAL (u_state ~0.25): Pulse lines, node flickers\n    else if (u_state < 0.375) {\n      float pulse = sin(t * 2.0 + uv.y * 20.0) * 0.5 + 0.5;\n      float grid = step(0.95, fract(uv.x * 10.0 + t * 0.5)) + step(0.95, fract(uv.y * 10.0 - t * 0.3));\n      pulseEffect = pulse * 0.15;\n      gridEffect = grid * 0.08;\n      effectStrength = 0.5;\n    }\n    // QUANTUM (u_state ~0.5): Shimmer, noise distortion\n    else if (u_state < 0.625) {\n      float shimmer = noise(uv * 50.0 + t * 3.0) * 0.2;\n      float interference = sin(uv.x * 40.0 + t * 5.0) * sin(uv.y * 40.0 - t * 3.0) * 0.1;\n      noiseEffect = shimmer + interference;\n      effectStrength = 0.6;\n    }\n    // SUCCESS (u_state ~0.75): Green tint pulse\n    else if (u_state < 0.875) {\n      float successPulse = sin(t * 4.0) * 0.5 + 0.5;\n      flashOverlay = 0.2 * successPulse;\n      flashColor = vec3(0.13, 0.77, 0.37);\n      effectStrength = 0.5;\n    }\n    // ERROR (u_state ~1.0): Red warning flash\n    else {\n      float errorFlash = abs(sin(t * 6.0));\n      flashOverlay = 0.25 * errorFlash;\n      flashColor = vec3(0.94, 0.27, 0.27);\n      effectStrength = 0.5;\n    }\n    \n    // Apply base blend with effect strength\n    float blend = baseBlend * effectStrength + (1.0 - effectStrength) * 0.5;\n    blend += pulseEffect + noiseEffect + gridEffect;\n    blend = clamp(blend, 0.0, 1.0);\n    \n    // Color mixing\n    vec3 color = mix(u_color1, u_color2, blend);\n    color = mix(color, u_color3, wave3 * 0.3 + u_sound * 0.1);\n    \n    // Apply flash overlay for success/error\n    color = mix(color, flashColor, flashOverlay);\n    \n    // Gradient and sound modulation\n    float gradient = 1.0 - uv.y * 0.3;\n    color *= gradient;\n    color = color * (1.0 + u_sound * 0.1);\n    \n    gl_FragColor = vec4(color, 1.0);\n  }\n");if(!t||!r)return null;let n=e.createProgram();return n?(e.attachShader(n,t),e.attachShader(n,r),e.linkProgram(n),e.getProgramParameter(n,e.LINK_STATUS))?n:(console.warn("Program link error:",e.getProgramInfoLog(n)),e.deleteProgram(n),null):null},[m]);return(0,a.useEffect)(()=>{let e=t.current;if(!e)return;let r=e.getContext("webgl")||e.getContext("experimental-webgl");if(!r||!(r instanceof WebGLRenderingContext))return;c.current=r;let n=h(r);if(!n)return;l.current=n,r.useProgram(n);let a=r.createBuffer();r.bindBuffer(r.ARRAY_BUFFER,a),r.bufferData(r.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,1,1]),r.STATIC_DRAW);let o=r.getAttribLocation(n,"a_position");return r.enableVertexAttribArray(o),r.vertexAttribPointer(o,2,r.FLOAT,!1,0,0),f.current=Date.now(),()=>{cancelAnimationFrame(s.current),n&&r.deleteProgram(n),a&&r.deleteBuffer(a)}},[t,h]),(0,a.useEffect)(()=>{var e;let a=c.current,u=l.current,m=t.current;if(!a||!u||!m)return;let h=o.v[r],v=i(h.colors.primary),g=i(h.colors.secondary),p=i(h.colors.accent),b=null!==(e=({organic:0,neural:1,quantum:2,success:3,error:4})[r])&&void 0!==e?e:0,x=0,y=performance.now(),w=()=>{if(!m||!a||!u)return;performance.now();let e=m.getBoundingClientRect(),t=window.devicePixelRatio||1,r=e.width*t,o=e.height*t;(m.width!==r||m.height!==o)&&(m.width=r,m.height=o,a.viewport(0,0,r,o)),a.useProgram(u);let c=a.getUniformLocation(u,"u_time"),i=a.getUniformLocation(u,"u_resolution"),l=a.getUniformLocation(u,"u_color1"),h=a.getUniformLocation(u,"u_color2"),_=a.getUniformLocation(u,"u_color3"),S=a.getUniformLocation(u,"u_state"),C=a.getUniformLocation(u,"u_sound"),E=n?0:(Date.now()-f.current)/1e3;a.uniform1f(c,E),a.uniform2f(i,r,o),a.uniform3f(l,v[0],v[1],v[2]),a.uniform3f(h,g[0],g[1],g[2]),a.uniform3f(_,p[0],p[1],p[2]),a.uniform1f(S,b/4),a.uniform1f(C,d.current),a.drawArrays(a.TRIANGLE_STRIP,0,4),x++;let L=performance.now();if(L-y>5e3){let e=(L-y)/x;e>50&&console.warn("[Perf] LevqorBrainCanvas slow: ".concat(e.toFixed(1),"ms/frame avg")),x=0,y=L}n||(s.current=requestAnimationFrame(w))};return w(),()=>{cancelAnimationFrame(s.current)}},[t,r,n,u]),null}function s(e){let{canvasRef:t,brainState:r,reducedMotion:n}=e,u=(0,a.useRef)(0),c=(0,a.useRef)(Date.now());return(0,a.useEffect)(()=>{let e=t.current;if(!e)return;let a=e.getContext("2d");if(!a)return;let i=o.v[r],l=()=>{if(!e||!a)return;let t=e.getBoundingClientRect(),o=window.devicePixelRatio||1,s=t.width*o,f=t.height*o;(e.width!==s||e.height!==f)&&(e.width=s,e.height=f);let d=n?0:(Date.now()-c.current)/1e3,m=a.createLinearGradient(0,0,s,f),h=n?0:.1*Math.sin(.5*d)+.1,v=n?.5:.1*Math.sin(.3*d+1)+.5,g=n?1:.1*Math.sin(.4*d+2)+.9;if(m.addColorStop(Math.max(0,h),i.colors.primary),m.addColorStop(Math.max(0,Math.min(1,v)),i.colors.secondary),m.addColorStop(Math.min(1,g),i.colors.accent),a.fillStyle=m,a.fillRect(0,0,s,f),"neural"===r&&!n){a.strokeStyle="rgba(255, 255, 255, 0.1)",a.lineWidth=1;for(let e=0;e<5;e++){let t=f/5*e+10*Math.sin(2*d+e);a.beginPath(),a.moveTo(0,t),a.lineTo(s,t),a.stroke()}}if("quantum"===r&&!n){a.fillStyle="rgba(255, 255, 255, ".concat(.1*Math.sin(5*d)+.1,")");for(let e=0;e<20;e++){let t=(.5*Math.sin(d+.5*e)+.5)*s,r=(.5*Math.cos(.7*d+.3*e)+.5)*f;a.beginPath(),a.arc(t,r,2*o,0,2*Math.PI),a.fill()}}"success"!==r||n||(a.fillStyle="rgba(34, 197, 94, ".concat(.1*Math.sin(4*d)+.1,")"),a.fillRect(0,0,s,f)),"error"!==r||n||(a.fillStyle="rgba(239, 68, 68, ".concat(.15*Math.abs(Math.sin(6*d)),")"),a.fillRect(0,0,s,f)),n||(u.current=requestAnimationFrame(l))};return c.current=Date.now(),l(),()=>{cancelAnimationFrame(u.current)}},[t,r,n]),null}function f(){return"false"!==c.env.NEXT_PUBLIC_LEVQOR_BRAIN_CANVAS_ENABLED}function d(e){let{brainState:t,className:r="",soundIntensity:c}=e,i=(0,a.useRef)(null),[d,m]=(0,a.useState)(null),[h,v]=(0,a.useState)(!1),[g,p]=(0,a.useState)(()=>f()),b=(0,u.useSoundIntensity)();if((0,a.useEffect)(()=>{p(f()),m(function(){try{let e=document.createElement("canvas");return!!(e.getContext("webgl")||e.getContext("experimental-webgl"))}catch(e){return!1}}()),v(window.matchMedia("(prefers-reduced-motion: reduce)").matches);let e=window.matchMedia("(prefers-reduced-motion: reduce)"),t=e=>v(e.matches);return e.addEventListener("change",t),()=>e.removeEventListener("change",t)},[]),!g){let e=o.v[t];return(0,n.jsx)("div",{className:"bg-gradient-to-br from-primary-100 to-secondary-100 flex items-center justify-center ".concat(r),role:"img","aria-label":"Levqor Brain visualization placeholder - ".concat(e.label," state"),children:(0,n.jsxs)("div",{className:"text-center text-neutral-500 p-4",children:[(0,n.jsx)("div",{className:"text-2xl mb-2",children:"\uD83E\uDDE0"}),(0,n.jsx)("p",{className:"text-sm font-medium",children:"Levqor Brain"}),(0,n.jsxs)("p",{className:"text-xs",children:[e.label," mode"]})]})})}if(null===d)return(0,n.jsx)("div",{className:"bg-gradient-to-br from-primary-100 to-secondary-100 animate-pulse ".concat(r),role:"img","aria-label":"Loading Levqor Brain visualization"});let x=o.v[t];return(0,n.jsxs)("div",{className:"relative overflow-hidden ".concat(r),role:"img","aria-label":"Levqor Brain visualization in ".concat(x.label," state: ").concat(x.description),children:[(0,n.jsx)("canvas",{ref:i,className:"w-full h-full",style:{display:"block"}}),d?(0,n.jsx)(l,{canvasRef:i,brainState:t,reducedMotion:h,soundIntensity:null!=c?c:b}):(0,n.jsx)(s,{canvasRef:i,brainState:t,reducedMotion:h}),h&&(0,n.jsx)("div",{className:"absolute bottom-2 right-2 text-xs text-white/50 bg-black/20 px-2 py-1 rounded",children:"Motion reduced"})]})}},6064:function(e,t,r){"use strict";r.d(t,{LevqorBrainProvider:function(){return u},useLevqorBrain:function(){return c},useLevqorBrainOptional:function(){return i}});var n=r(7437),a=r(2265);let o=(0,a.createContext)(null);function u(e){let{children:t,initialState:r="organic"}=e,[u,c]=(0,a.useState)(r),i=(0,a.useCallback)(e=>{c(e)},[]),l=(0,a.useCallback)(()=>c("organic"),[]),s=(0,a.useCallback)(()=>c("neural"),[]),f=(0,a.useCallback)(()=>c("quantum"),[]),d=(0,a.useCallback)(()=>c("success"),[]),m=(0,a.useCallback)(()=>c("error"),[]),h=(0,a.useMemo)(()=>({state:u,setState:i,setOrganic:l,setNeural:s,setQuantum:f,setSuccess:d,setError:m}),[u,i,l,s,f,d,m]);return(0,n.jsx)(o.Provider,{value:h,children:t})}function c(){let e=(0,a.useContext)(o);if(!e)throw Error("useLevqorBrain must be used within a LevqorBrainProvider");return e}function i(){return(0,a.useContext)(o)}},6369:function(e,t,r){"use strict";r.d(t,{default:function(){return l}});var n=r(7437),a=r(2265),o=r(6064),u=r(5911);let c=["organic","neural","quantum","success","error","organic"],i={organic:"Calm",neural:"Thinking",quantum:"Processing",success:"Success",error:"Error"};function l(){let e=(0,o.useLevqorBrainOptional)(),[t,r]=(0,a.useState)(0),[l,s]=(0,a.useState)(!1),f=(0,a.useRef)(null),d=(0,a.useCallback)(()=>{if(!e||l)return;s(!0);let t=0,n=()=>{if(t>=c.length){s(!1),r(0);return}let a=(0,u.L2)({currentState:e.state,uiEvent:"test_cycle"});e.setState(a),r(t),t++,f.current=setTimeout(n,800)};n()},[e,l]),m=(0,a.useCallback)(()=>{f.current&&(clearTimeout(f.current),f.current=null),s(!1),r(0),e&&e.setState((0,u.mg)())},[e]);return e?(0,n.jsxs)("div",{className:"inline-flex items-center gap-2 bg-yellow-50 border border-yellow-200 rounded-lg px-3 py-2",children:[(0,n.jsx)("span",{className:"text-xs text-yellow-700 font-medium",children:"Dev:"}),(0,n.jsx)("button",{onClick:l?m:d,disabled:!1,className:"text-xs px-3 py-1.5 rounded font-medium transition-colors ".concat(l?"bg-yellow-500 text-white hover:bg-yellow-600":"bg-yellow-100 text-yellow-800 hover:bg-yellow-200"),children:l?"".concat(i[c[t]],"..."):"Test Brain"}),l&&(0,n.jsx)("button",{onClick:m,className:"text-xs px-2 py-1 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 transition-colors",children:"Stop"})]}):null}},5911:function(e,t,r){"use strict";r.d(t,{L2:function(){return a},dS:function(){return u},mg:function(){return o}});let n=["organic","neural","quantum","success","error"];function a(e){let{currentState:t,uiEvent:r,intensity:a=0}=e;switch(r){case"idle":return"organic";case"hover_primary_cta":case"dashboard_action_start":return"neural";case"click_primary_cta":case"dashboard_action_success":return"success";case"hover_secondary_cta":return"quantum";case"dashboard_action_error":return"error";case"test_cycle":{let e=(n.indexOf(t)+1)%n.length;return n[e]}default:if(a>.7&&"error"!==t&&"success"!==t)return"quantum";return t}}function o(){return"organic"}function u(e){return"success"===e?1500:"error"===e?2e3:0}},9957:function(e,t,r){"use strict";r.d(t,{FU:function(){return o.LevqorBrainProvider},Ub:function(){return a.default},_b:function(){return n.default},sD:function(){return o.useLevqorBrain}});var n=r(7798);r(3130);var a=r(8868);r(6369),r(2748),r(6813),r(994);var o=r(6064)},994:function(e,t,r){"use strict";r.d(t,{v:function(){return n}});let n={organic:{state:"organic",label:"Organic",description:"Calm, breathing state - the Brain at rest",colors:{primary:"#3b82f6",secondary:"#60a5fa",accent:"#93c5fd"}},neural:{state:"neural",label:"Neural",description:"Reasoning state - the Brain is thinking",colors:{primary:"#9333ea",secondary:"#a855f7",accent:"#c084fc"}},quantum:{state:"quantum",label:"Quantum",description:"Creative state - the Brain is generating",colors:{primary:"#06b6d4",secondary:"#22d3ee",accent:"#67e8f9"}},success:{state:"success",label:"Success",description:"Completion state - the Brain succeeded",colors:{primary:"#22c55e",secondary:"#4ade80",accent:"#86efac"}},error:{state:"error",label:"Error",description:"Alert state - the Brain encountered an issue",colors:{primary:"#ef4444",secondary:"#f87171",accent:"#fca5a5"}}}},2748:function(e,t,r){"use strict";r.d(t,{useBrainState:function(){return o}});var n=r(2265),a=r(994);function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"organic",[t,r]=(0,n.useState)(e),o=(0,n.useCallback)(e=>{r(e)},[]),u=(0,n.useCallback)(()=>{r(e=>{switch(e){case"organic":return"neural";case"neural":return"quantum";case"quantum":return"success";case"success":return"error";default:return"organic"}})},[]);return{state:t,setState:o,config:a.v[t],cycleState:u}}},6813:function(e,t,r){"use strict";r.d(t,{useSoundIntensity:function(){return u}});var n=r(2265),a=r(257);function o(){let e=a.env.NEXT_PUBLIC_LEVQOR_BRAIN_SOUND_ENABLED;return"true"===e||"1"===e}function u(){let[e,t]=(0,n.useState)(0),r=(0,n.useRef)(null),a=(0,n.useRef)(null),u=(0,n.useRef)(null),c=(0,n.useRef)(0),i=(0,n.useRef)(null),[l,s]=(0,n.useState)(!1),[f,d]=(0,n.useState)(!1);(0,n.useEffect)(()=>{let e=o(),t=window.matchMedia("(prefers-reduced-motion: reduce)").matches;s(e&&!t);let r=window.matchMedia("(prefers-reduced-motion: reduce)"),n=e=>{s(o()&&!e.matches)};return r.addEventListener("change",n),()=>r.removeEventListener("change",n)},[]);let m=(0,n.useCallback)(e=>{let t=0;for(let r=0;r<e.length;r++){let n=(e[r]-128)/128;t+=n*n}return Math.min(1,2*Math.sqrt(t/e.length))},[]),h=(0,n.useCallback)(()=>{if(!a.current||!i.current)return;let e=()=>{a.current&&i.current&&(a.current.getByteTimeDomainData(i.current),t(m(i.current)),c.current=requestAnimationFrame(e))};e()},[m]),v=(0,n.useCallback)(()=>{cancelAnimationFrame(c.current),u.current&&(u.current.getTracks().forEach(e=>e.stop()),u.current=null),r.current&&"closed"!==r.current.state&&(r.current.close(),r.current=null),a.current=null,i.current=null,t(0),d(!1)},[]);return((0,n.useEffect)(()=>{if(!l){v();return}let e=!0;return(async()=>{try{let t=await navigator.mediaDevices.getUserMedia({audio:!0});if(!e){t.getTracks().forEach(e=>e.stop());return}u.current=t,d(!0);let n=new AudioContext;r.current=n;let o=n.createAnalyser();o.fftSize=256,a.current=o;let c=o.frequencyBinCount;i.current=new Uint8Array(c),n.createMediaStreamSource(t).connect(o),h()}catch(r){e&&(d(!1),t(0))}})(),()=>{e=!1,v()}},[l,v,h]),l&&f)?e:0}}}]);