"use strict";exports.id=8846,exports.ids=[8846],exports.modules={88846:(e,t,s)=>{s.r(t),s.d(t,{default:()=>i});var r=s(10326),a=s(17577),l=s(16578);function i({onWorkflowCreated:e,className:t=""}){let[s,i]=(0,a.useState)(""),[n,o]=(0,a.useState)(!1),[d,c]=(0,a.useState)(null),[m,x]=(0,a.useState)(!1),p=async e=>{try{let t=(0,l.bE)(),s=await fetch("https://api.levqor.ai/api/ai/workflow",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:e,language:t,context:{timestamp:new Date().toISOString()}})});if(!s.ok)throw Error("AI workflow request failed");let r=await s.json();if(r.success&&r.steps)return r.steps.map((e,t)=>({id:(t+1).toString(),type:e.type,app:e.label,action:e.label,description:e.description}));throw Error("Invalid AI response")}catch(e){return console.error("AI workflow error:",e),[{id:"1",type:"trigger",app:"Your App",action:"Event Occurs",description:"When something happens in your app"},{id:"2",type:"action",app:"Target App",action:"Perform Action",description:"Do something automatically"}]}},h=async()=>{s.trim()&&(o(!0),c(await p(s)),o(!1))};return r.jsx("div",{className:`${t}`,children:m?(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl border border-neutral-200 p-6 max-w-2xl",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"text-2xl font-bold text-neutral-900 mb-1",children:"Natural Language Builder"}),r.jsx("p",{className:"text-sm text-neutral-600",children:"Describe what you want to automate, we'll build it for you"})]}),r.jsx("button",{onClick:()=>x(!1),className:"p-2 hover:bg-neutral-100 rounded-lg transition","aria-label":"Close",children:r.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),!d&&(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Describe your automation"}),r.jsx("textarea",{value:s,onChange:e=>i(e.target.value),placeholder:"Example: When I receive an email with 'urgent' in the subject, send a message to my Slack team channel",className:"w-full px-4 py-3 border border-neutral-300 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-none",rows:4,disabled:n})]}),r.jsx("button",{onClick:h,disabled:!s.trim()||n,className:"w-full px-6 py-3 bg-primary-600 text-white rounded-xl font-semibold hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center gap-2",children:n?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("svg",{className:"animate-spin h-5 w-5",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"AI is building your workflow..."]}):(0,r.jsxs)(r.Fragment,{children:[r.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"Generate Workflow"]})}),(0,r.jsxs)("div",{className:"border-t border-neutral-200 pt-4 mt-6",children:[r.jsx("p",{className:"text-xs font-medium text-neutral-600 mb-3",children:"Try these examples:"}),r.jsx("div",{className:"space-y-2",children:["When a form is submitted, add it to a Google Sheet and send a confirmation email","Send urgent emails from my boss to Slack immediately","When a new contact is added to my CRM, send them a welcome email"].map((e,t)=>(0,r.jsxs)("button",{onClick:()=>i(e),className:"text-left w-full p-2 text-xs text-primary-600 hover:bg-primary-50 rounded-lg transition",children:['"',e,'"']},t))})]})]}),d&&(0,r.jsxs)("div",{className:"space-y-4",children:[r.jsx("div",{className:"bg-primary-50 border border-primary-200 rounded-xl p-4",children:(0,r.jsxs)("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"mt-1",children:r.jsx("svg",{className:"w-5 h-5 text-primary-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,r.jsxs)("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-semibold text-primary-900 mb-1",children:"Workflow Generated!"}),r.jsx("p",{className:"text-sm text-primary-700",children:"Here's what your automation will do:"})]})]})}),r.jsx("div",{className:"space-y-3",children:d.map((e,t)=>(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[r.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-white font-semibold text-sm ${"trigger"===e.type?"bg-success-500":"condition"===e.type?"bg-warning-500":"bg-primary-500"}`,children:t+1}),t<d.length-1&&r.jsx("div",{className:"w-0.5 h-full bg-neutral-300 my-1"})]}),(0,r.jsxs)("div",{className:"flex-1 pb-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("span",{className:"text-xs font-semibold text-neutral-500 uppercase",children:e.type}),r.jsx("span",{className:"text-sm font-bold text-neutral-900",children:e.app})]}),r.jsx("p",{className:"text-sm text-neutral-700 font-medium",children:e.action}),r.jsx("p",{className:"text-xs text-neutral-600 mt-1",children:e.description})]})]},e.id))}),(0,r.jsxs)("div",{className:"flex gap-3 pt-4",children:[r.jsx("button",{onClick:()=>{d&&e&&e(d),i(""),c(null)},className:"flex-1 px-6 py-3 bg-primary-600 text-white rounded-xl font-semibold hover:bg-primary-700 transition-colors",children:"Create This Workflow"}),r.jsx("button",{onClick:()=>{c(null),i("")},className:"px-6 py-3 border-2 border-neutral-300 text-neutral-700 rounded-xl font-semibold hover:bg-neutral-50 transition-colors",children:"Start Over"})]})]})]}):(0,r.jsxs)("button",{onClick:()=>x(!0),className:"px-6 py-3 bg-gradient-to-r from-primary-600 to-secondary-600 text-white rounded-xl font-semibold hover:from-primary-700 hover:to-secondary-700 transition-all shadow-md hover:shadow-lg flex items-center gap-2",children:[r.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"Build with Natural Language"]})})}}};