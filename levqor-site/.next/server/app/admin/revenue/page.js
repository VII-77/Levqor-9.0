(()=>{var e={};e.id=3836,e.ids=[3836],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},24565:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>x,pages:()=>o,routeModule:()=>m,tree:()=>c}),t(6023),t(9457),t(95476),t(7629),t(11930),t(12523);var r=t(23191),a=t(88716),l=t(37922),n=t.n(l),i=t(95231),d={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);t.d(s,d);let c=["",{children:["admin",{children:["revenue",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,6023)),"/home/runner/workspace/levqor-site/src/app/admin/revenue/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,9457)),"/home/runner/workspace/levqor-site/src/app/admin/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,95476)),"/home/runner/workspace/levqor-site/src/app/layout.tsx"],error:[()=>Promise.resolve().then(t.bind(t,7629)),"/home/runner/workspace/levqor-site/src/app/error.tsx"],loading:[()=>Promise.resolve().then(t.bind(t,11930)),"/home/runner/workspace/levqor-site/src/app/loading.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,12523)),"/home/runner/workspace/levqor-site/src/app/not-found.tsx"]}],o=["/home/runner/workspace/levqor-site/src/app/admin/revenue/page.tsx"],x="/admin/revenue/page",u={require:t,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/admin/revenue/page",pathname:"/admin/revenue",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},93906:(e,s,t)=>{Promise.resolve().then(t.bind(t,5264))},51145:(e,s,t)=>{Promise.resolve().then(t.bind(t,32366))},5264:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>c});var r=t(10326),a=t(98618),l=t(35047),n=t(17577),i=t(90434);process.env.NEXT_PUBLIC_ADMIN_EMAIL;let d=[{href:"/admin",label:"Overview",icon:"\uD83D\uDCCA"},{href:"/admin/console",label:"Command Console",icon:"\uD83C\uDFAE"},{href:"/admin/revenue",label:"Revenue",icon:"\uD83D\uDCB0"},{href:"/admin/users",label:"Users",icon:"\uD83D\uDC65"},{href:"/admin/activity",label:"Activity",icon:"\uD83D\uDCC8"}];function c({children:e}){let{data:s,status:t}=(0,a.kP)();(0,l.useRouter)();let c=(0,l.usePathname)(),[o,x]=(0,n.useState)(!1);return"loading"!==t&&o?r.jsx("div",{className:"min-h-screen bg-slate-950",children:(0,r.jsxs)("div",{className:"flex",children:[r.jsx("aside",{className:"w-64 min-h-screen bg-slate-900 border-r border-slate-800 fixed left-0 top-0 pt-16",children:(0,r.jsxs)("div",{className:"p-4",children:[(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsxs)("h2",{className:"text-lg font-bold text-white flex items-center gap-2",children:[r.jsx("span",{className:"text-2xl",children:"\uD83D\uDEE1️"}),"Admin Portal"]}),r.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Founder Access Only"})]}),r.jsx("nav",{className:"space-y-1",children:d.map(e=>{let s=c===e.href;return(0,r.jsxs)(i.default,{href:e.href,className:`flex items-center gap-3 px-3 py-2 rounded-lg transition-colors ${s?"bg-blue-600 text-white":"text-slate-400 hover:bg-slate-800 hover:text-white"}`,children:[r.jsx("span",{children:e.icon}),r.jsx("span",{children:e.label})]},e.href)})}),r.jsx("div",{className:"mt-8 pt-4 border-t border-slate-800",children:r.jsx(i.default,{href:"/dashboard",className:"flex items-center gap-2 text-sm text-slate-500 hover:text-slate-300 transition-colors",children:"← Back to Dashboard"})})]})}),r.jsx("main",{className:"flex-1 ml-64 pt-16 min-h-screen",children:r.jsx("div",{className:"p-6",children:e})})]})}):r.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500 mx-auto mb-4"}),r.jsx("p",{className:"text-slate-400",children:"Verifying admin access..."})]})})}},32366:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>l});var r=t(10326),a=t(17577);function l(){let[e,s]=(0,a.useState)(null),[t,l]=(0,a.useState)(!0),[i,d]=(0,a.useState)("30d");return t?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"})}):(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-white",children:"Revenue Analytics"}),r.jsx("p",{className:"text-slate-400 mt-1",children:"Financial metrics and subscription data (READ-ONLY)"})]}),r.jsx("div",{className:"flex gap-2",children:["7d","30d","90d","all"].map(e=>r.jsx("button",{onClick:()=>d(e),className:`px-3 py-1 rounded-lg text-sm transition-colors ${i===e?"bg-blue-600 text-white":"bg-slate-800 text-slate-400 hover:text-white"}`,children:e.toUpperCase()},e))})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[r.jsx(n,{title:"Monthly Recurring Revenue",value:`\xa3${(e?.mrr??0).toFixed(2)}`,icon:"\uD83D\uDCB7",color:"green"}),r.jsx(n,{title:"Annual Recurring Revenue",value:`\xa3${(e?.arr??0).toFixed(2)}`,icon:"\uD83D\uDCC8",color:"blue"}),r.jsx(n,{title:"Avg Revenue Per User",value:`\xa3${(e?.arpu??0).toFixed(2)}`,icon:"\uD83D\uDC64",color:"purple"}),r.jsx(n,{title:"Churn Rate",value:`${((e?.churn_rate??0)*100).toFixed(1)}%`,icon:"\uD83D\uDCC9",color:"orange"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[(0,r.jsxs)("div",{className:"bg-slate-900 rounded-xl border border-slate-800 p-6",children:[(0,r.jsxs)("h2",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[r.jsx("span",{children:"\uD83D\uDCCA"})," Subscriptions"]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center p-3 bg-slate-800/50 rounded-lg",children:[(0,r.jsxs)("div",{children:[r.jsx("div",{className:"text-white font-semibold",children:"Active Subscriptions"}),r.jsx("div",{className:"text-slate-400 text-sm",children:"Paying customers"})]}),r.jsx("div",{className:"text-2xl font-bold text-green-400",children:e?.active_subscriptions??0})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center p-3 bg-slate-800/50 rounded-lg",children:[(0,r.jsxs)("div",{children:[r.jsx("div",{className:"text-white font-semibold",children:"Active Trials"}),r.jsx("div",{className:"text-slate-400 text-sm",children:"7-day trial period"})]}),r.jsx("div",{className:"text-2xl font-bold text-blue-400",children:e?.trial_count??0})]})]})]}),(0,r.jsxs)("div",{className:"bg-slate-900 rounded-xl border border-slate-800 p-6",children:[(0,r.jsxs)("h2",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[r.jsx("span",{children:"\uD83D\uDCB0"})," Revenue Summary"]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-slate-400",children:"Currency"}),r.jsx("span",{className:"text-white",children:e?.currency||"GBP"})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-slate-400",children:"Data Range"}),r.jsx("span",{className:"text-white",children:i.toUpperCase()})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-slate-400",children:"Last Updated"}),r.jsx("span",{className:"text-slate-300 text-sm",children:e?.timestamp?new Date(e.timestamp).toLocaleString():"N/A"})]})]})]})]}),(0,r.jsxs)("div",{className:"bg-slate-900 rounded-xl border border-slate-800 p-6",children:[(0,r.jsxs)("h2",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[r.jsx("span",{children:"\uD83D\uDCC8"})," Revenue Trend"]}),r.jsx("div",{className:"h-64 flex items-center justify-center text-slate-500",children:e?.revenue_trend&&e.revenue_trend.length>0?r.jsx("div",{className:"w-full",children:e.revenue_trend.map((s,t)=>(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("span",{className:"text-slate-400 w-24",children:s.date}),r.jsx("div",{className:"flex-1 bg-slate-800 rounded h-4",children:r.jsx("div",{className:"bg-blue-500 rounded h-4",style:{width:`${Math.min(s.amount/(e.mrr||1)*100,100)}%`}})}),(0,r.jsxs)("span",{className:"text-white w-20 text-right",children:["\xa3",s.amount.toFixed(2)]})]},t))}):r.jsx("p",{children:"Revenue trend data will appear as subscriptions are processed"})})]}),r.jsx("div",{className:"mt-6 p-4 bg-blue-500/10 border border-blue-500/20 rounded-lg",children:(0,r.jsxs)("p",{className:"text-blue-400 text-sm",children:[r.jsx("strong",{children:"Note:"})," All data shown is READ-ONLY. Revenue modifications, refunds, and billing adjustments require Stripe Dashboard access and founder approval."]})})]})}function n({title:e,value:s,icon:t,color:a}){return(0,r.jsxs)("div",{className:`rounded-xl border p-4 ${{green:"bg-green-500/10 border-green-500/20",blue:"bg-blue-500/10 border-blue-500/20",purple:"bg-purple-500/10 border-purple-500/20",orange:"bg-orange-500/10 border-orange-500/20"}[a]}`,children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("span",{className:"text-xl",children:t}),r.jsx("span",{className:"text-slate-400 text-sm",children:e})]}),r.jsx("div",{className:"text-2xl font-bold text-white",children:s})]})}},9457:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(68570).createProxy)(String.raw`/home/runner/workspace/levqor-site/src/app/admin/layout.tsx#default`)},6023:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(68570).createProxy)(String.raw`/home/runner/workspace/levqor-site/src/app/admin/revenue/page.tsx#default`)}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[8948,4054,8503,4719],()=>t(24565));module.exports=r})();