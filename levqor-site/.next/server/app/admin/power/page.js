(()=>{var e={};e.id=178,e.ids=[178],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},32194:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>c,routeModule:()=>p,tree:()=>d}),t(98622),t(9457),t(95476),t(7629),t(11930),t(12523);var a=t(23191),l=t(88716),r=t(37922),n=t.n(r),i=t(95231),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);t.d(s,o);let d=["",{children:["admin",{children:["power",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,98622)),"/home/runner/workspace/levqor-site/src/app/admin/power/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,9457)),"/home/runner/workspace/levqor-site/src/app/admin/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,95476)),"/home/runner/workspace/levqor-site/src/app/layout.tsx"],error:[()=>Promise.resolve().then(t.bind(t,7629)),"/home/runner/workspace/levqor-site/src/app/error.tsx"],loading:[()=>Promise.resolve().then(t.bind(t,11930)),"/home/runner/workspace/levqor-site/src/app/loading.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,12523)),"/home/runner/workspace/levqor-site/src/app/not-found.tsx"]}],c=["/home/runner/workspace/levqor-site/src/app/admin/power/page.tsx"],x="/admin/power/page",m={require:t,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/admin/power/page",pathname:"/admin/power",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},93906:(e,s,t)=>{Promise.resolve().then(t.bind(t,5264))},75011:(e,s,t)=>{Promise.resolve().then(t.bind(t,41610))},5264:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>d});var a=t(10326),l=t(76715),r=t(35047),n=t(17577),i=t(90434);process.env.NEXT_PUBLIC_ADMIN_EMAIL;let o=[{href:"/admin",label:"Overview",icon:"\uD83D\uDCCA"},{href:"/admin/console",label:"Command Console",icon:"\uD83C\uDFAE"},{href:"/admin/revenue",label:"Revenue",icon:"\uD83D\uDCB0"},{href:"/admin/users",label:"Users",icon:"\uD83D\uDC65"},{href:"/admin/activity",label:"Activity",icon:"\uD83D\uDCC8"}];function d({children:e}){let{data:s,status:t}=(0,l.kP)();(0,r.useRouter)();let d=(0,r.usePathname)(),[c,x]=(0,n.useState)(!1);return"loading"!==t&&c?a.jsx("div",{className:"min-h-screen bg-slate-950",children:(0,a.jsxs)("div",{className:"flex",children:[a.jsx("aside",{className:"w-64 min-h-screen bg-slate-900 border-r border-slate-800 fixed left-0 top-0 pt-16",children:(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("h2",{className:"text-lg font-bold text-white flex items-center gap-2",children:[a.jsx("span",{className:"text-2xl",children:"\uD83D\uDEE1️"}),"Admin Portal"]}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Founder Access Only"})]}),a.jsx("nav",{className:"space-y-1",children:o.map(e=>{let s=d===e.href;return(0,a.jsxs)(i.default,{href:e.href,className:`flex items-center gap-3 px-3 py-2 rounded-lg transition-colors ${s?"bg-blue-600 text-white":"text-slate-400 hover:bg-slate-800 hover:text-white"}`,children:[a.jsx("span",{children:e.icon}),a.jsx("span",{children:e.label})]},e.href)})}),a.jsx("div",{className:"mt-8 pt-4 border-t border-slate-800",children:a.jsx(i.default,{href:"/dashboard",className:"flex items-center gap-2 text-sm text-slate-500 hover:text-slate-300 transition-colors",children:"← Back to Dashboard"})})]})}),a.jsx("main",{className:"flex-1 ml-64 pt-16 min-h-screen",children:a.jsx("div",{className:"p-6",children:e})})]})}):a.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500 mx-auto mb-4"}),a.jsx("p",{className:"text-slate-400",children:"Verifying admin access..."})]})})}},41610:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>n});var a=t(10326),l=t(17577);let r="https://api.levqor.ai";function n(){let[e,s]=(0,l.useState)({low_cost_mode:!1,growth_paused:!1,maintenance_mode:!1,ai_enabled:!0,marketing_autopilot:!1}),[t,n]=(0,l.useState)(null),[c,x]=(0,l.useState)([]),[m,p]=(0,l.useState)([]),[h,u]=(0,l.useState)(!0),[g,b]=(0,l.useState)(null),j=(0,l.useCallback)(async()=>{try{let t=localStorage.getItem("admin_token")||"",a={Authorization:`Bearer ${t}`,"Content-Type":"application/json"},[l,i,o,d]=await Promise.all([fetch(`${r}/api/admin/system-toggles`,{headers:a}).catch(()=>null),fetch(`${r}/api/admin/cost-metrics`,{headers:a}).catch(()=>null),fetch(`${r}/api/admin/pending-approvals`,{headers:a}).catch(()=>null),fetch(`${r}/api/admin/recent-logs`,{headers:a}).catch(()=>null)]);if(l?.ok){let t=await l.json();s(t.toggles||e)}if(i?.ok){let e=await i.json();n(e.costs||null)}if(o?.ok){let e=await o.json();x(e.approvals||[])}if(d?.ok){let e=await d.json();p(e.logs||[])}}catch(e){console.error("Failed to fetch power panel data:",e)}finally{u(!1)}},[e]),v=async t=>{b(t);try{let a=localStorage.getItem("admin_token")||"",l=!e[t];(await fetch(`${r}/api/admin/toggle`,{method:"POST",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"},body:JSON.stringify({key:t,value:l})})).ok&&s(e=>({...e,[t]:l}))}catch(e){console.error("Failed to toggle:",e)}finally{b(null)}},f=async(e,s)=>{b(`approval-${e}`);try{let t=localStorage.getItem("admin_token")||"";await fetch(`${r}/api/admin/approval/${e}/${s}`,{method:"POST",headers:{Authorization:`Bearer ${t}`}}),x(s=>s.filter(s=>s.id!==e))}catch(e){console.error("Failed to process approval:",e)}finally{b(null)}};return h?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-purple-500"})}):(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsxs)("h1",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[a.jsx("span",{className:"text-3xl",children:"⚡"}),"Admin Power Panel"]}),a.jsx("p",{className:"text-slate-400 mt-1",children:"V10 System Controls - Real-time toggles, costs, approvals, and logs"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[(0,a.jsxs)("div",{className:"bg-slate-900 rounded-xl border border-slate-800 p-6",children:[(0,a.jsxs)("h2",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[a.jsx("span",{children:"\uD83C\uDF9A️"})," System Toggles"]}),(0,a.jsxs)("div",{className:"space-y-4",children:[a.jsx(i,{label:"Low-Cost Mode",description:"Reduce API calls, disable non-essential features",checked:e.low_cost_mode,onToggle:()=>v("low_cost_mode"),loading:"low_cost_mode"===g,color:"yellow"}),a.jsx(i,{label:"Growth Engine Paused",description:"Pause autonomous growth activities",checked:e.growth_paused,onToggle:()=>v("growth_paused"),loading:"growth_paused"===g,color:"orange"}),a.jsx(i,{label:"Maintenance Mode",description:"Show maintenance page to users",checked:e.maintenance_mode,onToggle:()=>v("maintenance_mode"),loading:"maintenance_mode"===g,color:"red"}),a.jsx(i,{label:"AI Features Enabled",description:"Enable Brain AI features",checked:e.ai_enabled,onToggle:()=>v("ai_enabled"),loading:"ai_enabled"===g,color:"purple"}),a.jsx(i,{label:"Marketing Autopilot",description:"Auto-generate and queue marketing content",checked:e.marketing_autopilot,onToggle:()=>v("marketing_autopilot"),loading:"marketing_autopilot"===g,color:"blue"})]})]}),(0,a.jsxs)("div",{className:"bg-slate-900 rounded-xl border border-slate-800 p-6",children:[(0,a.jsxs)("h2",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[a.jsx("span",{children:"\uD83D\uDCB0"})," Cost Monitor"]}),t?(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(o,{label:"Today",value:t.today,budget:t.budget/30}),a.jsx(o,{label:"Yesterday",value:t.yesterday,budget:t.budget/30})]}),(0,a.jsxs)("div",{className:"p-4 bg-slate-800/50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"text-slate-400",children:"Month-to-Date"}),(0,a.jsxs)("span",{className:"text-white font-semibold",children:["$",t.mtd.toFixed(2)]})]}),a.jsx("div",{className:"w-full h-2 bg-slate-700 rounded-full overflow-hidden",children:a.jsx("div",{className:`h-full transition-all ${t.mtd/t.budget>.8?"bg-red-500":t.mtd/t.budget>.5?"bg-yellow-500":"bg-green-500"}`,style:{width:`${Math.min(t.mtd/t.budget*100,100)}%`}})}),(0,a.jsxs)("div",{className:"flex justify-between text-xs text-slate-500 mt-1",children:[a.jsx("span",{children:"$0"}),(0,a.jsxs)("span",{children:["Budget: $",t.budget]})]})]}),t.spike_detected&&(0,a.jsxs)("div",{className:"p-3 bg-red-500/10 border border-red-500/30 rounded-lg flex items-center gap-2",children:[a.jsx("span",{className:"text-red-400",children:"⚠️"}),a.jsx("span",{className:"text-red-400 text-sm",children:"Spike detected! Cost increased 50%+ from yesterday"})]})]}):a.jsx("div",{className:"text-slate-400 text-center py-8",children:"Cost data unavailable"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[(0,a.jsxs)("div",{className:"bg-slate-900 rounded-xl border border-slate-800 p-6",children:[(0,a.jsxs)("h2",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[a.jsx("span",{children:"\uD83D\uDCCB"})," Pending Approvals",c.length>0&&a.jsx("span",{className:"ml-2 px-2 py-0.5 bg-red-500/20 text-red-400 text-xs rounded-full",children:c.length})]}),c.length>0?a.jsx("div",{className:"space-y-3 max-h-80 overflow-y-auto",children:c.map(e=>a.jsx("div",{className:"p-3 bg-slate-800/50 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("div",{className:"font-medium text-white",children:e.title}),(0,a.jsxs)("div",{className:"text-xs text-slate-400 mt-1",children:[e.type," | Impact: ",e.impact]})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>f(e.id,"approve"),disabled:g===`approval-${e.id}`,className:"px-3 py-1 bg-green-600 hover:bg-green-500 disabled:bg-slate-600 text-white text-sm rounded transition-colors",children:g===`approval-${e.id}`?"...":"✓"}),a.jsx("button",{onClick:()=>f(e.id,"reject"),disabled:g===`approval-${e.id}`,className:"px-3 py-1 bg-red-600 hover:bg-red-500 disabled:bg-slate-600 text-white text-sm rounded transition-colors",children:"✕"})]})]})},e.id))}):a.jsx("div",{className:"text-slate-400 text-center py-8",children:"No pending approvals"})]}),(0,a.jsxs)("div",{className:"bg-slate-900 rounded-xl border border-slate-800 p-6",children:[(0,a.jsxs)("h2",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[a.jsx("span",{children:"\uD83D\uDCDC"})," Recent Logs",a.jsx("button",{onClick:j,className:"ml-auto text-xs bg-slate-700 hover:bg-slate-600 px-2 py-1 rounded transition-colors",children:"Refresh"})]}),m.length>0?a.jsx("div",{className:"space-y-2 max-h-80 overflow-y-auto font-mono text-xs",children:m.map((e,s)=>(0,a.jsxs)("div",{className:"flex gap-2 p-2 bg-slate-800/50 rounded",children:[a.jsx("span",{className:`flex-shrink-0 px-1.5 py-0.5 rounded ${"error"===e.level?"bg-red-500/20 text-red-400":"warn"===e.level?"bg-yellow-500/20 text-yellow-400":"bg-slate-600/50 text-slate-400"}`,children:e.level.toUpperCase()}),a.jsx("span",{className:"text-slate-300 truncate",children:e.message})]},s))}):a.jsx("div",{className:"text-slate-400 text-center py-8",children:"No recent logs"})]})]}),(0,a.jsxs)("div",{className:"bg-slate-900 rounded-xl border border-slate-800 p-6",children:[(0,a.jsxs)("h2",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[a.jsx("span",{children:"⚡"})," Quick Actions"]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[a.jsx(d,{icon:"\uD83D\uDD04",label:"Sync All Data",onClick:()=>console.log("sync")}),a.jsx(d,{icon:"\uD83E\uDDF9",label:"Clear Cache",onClick:()=>console.log("clear cache")}),a.jsx(d,{icon:"\uD83D\uDCCA",label:"Export Report",onClick:()=>window.location.href=`${r}/api/admin/report`}),a.jsx(d,{icon:"\uD83D\uDD14",label:"Test Alerts",onClick:()=>console.log("test alerts")})]})]})]})}function i({label:e,description:s,checked:t,onToggle:l,loading:r,color:n}){return(0,a.jsxs)("div",{className:"flex items-center justify-between py-2 border-b border-slate-800 last:border-0",children:[(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-white font-medium",children:e}),a.jsx("div",{className:"text-xs text-slate-500",children:s})]}),a.jsx("button",{onClick:l,disabled:r,className:`relative w-12 h-6 rounded-full transition-colors ${t?({yellow:"bg-yellow-500",orange:"bg-orange-500",red:"bg-red-500",purple:"bg-purple-500",blue:"bg-blue-500",green:"bg-green-500"})[n]||"bg-blue-500":"bg-slate-600"} ${r?"opacity-50":""}`,children:a.jsx("span",{className:`absolute top-0.5 left-0.5 w-5 h-5 bg-white rounded-full transition-transform ${t?"translate-x-6":""}`})})]})}function o({label:e,value:s,budget:t}){let l=s/t*100,r=l>80;return(0,a.jsxs)("div",{className:`p-4 rounded-lg ${r?"bg-red-500/10 border border-red-500/30":"bg-slate-800/50"}`,children:[a.jsx("div",{className:"text-slate-400 text-sm",children:e}),(0,a.jsxs)("div",{className:`text-xl font-bold ${r?"text-red-400":"text-white"}`,children:["$",s.toFixed(2)]}),(0,a.jsxs)("div",{className:"text-xs text-slate-500",children:[l.toFixed(0),"% of daily budget"]})]})}function d({icon:e,label:s,onClick:t}){return(0,a.jsxs)("button",{onClick:t,className:"p-4 bg-slate-800/50 hover:bg-slate-800 border border-slate-700 rounded-lg transition-colors text-center",children:[a.jsx("div",{className:"text-2xl mb-2",children:e}),a.jsx("div",{className:"text-sm text-slate-300",children:s})]})}},9457:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(68570).createProxy)(String.raw`/home/runner/workspace/levqor-site/src/app/admin/layout.tsx#default`)},98622:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(68570).createProxy)(String.raw`/home/runner/workspace/levqor-site/src/app/admin/power/page.tsx#default`)}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[8948,4054,1071,4719],()=>t(32194));module.exports=a})();