(()=>{var e={};e.id=3551,e.ids=[3551],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},42495:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>d,routeModule:()=>h,tree:()=>c}),t(5103),t(9457),t(95476),t(7629),t(11930),t(12523);var a=t(23191),l=t(88716),r=t(37922),n=t.n(r),i=t(95231),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);t.d(s,o);let c=["",{children:["admin",{children:["console",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,5103)),"/home/runner/workspace/levqor-site/src/app/admin/console/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,9457)),"/home/runner/workspace/levqor-site/src/app/admin/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,95476)),"/home/runner/workspace/levqor-site/src/app/layout.tsx"],error:[()=>Promise.resolve().then(t.bind(t,7629)),"/home/runner/workspace/levqor-site/src/app/error.tsx"],loading:[()=>Promise.resolve().then(t.bind(t,11930)),"/home/runner/workspace/levqor-site/src/app/loading.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,12523)),"/home/runner/workspace/levqor-site/src/app/not-found.tsx"]}],d=["/home/runner/workspace/levqor-site/src/app/admin/console/page.tsx"],x="/admin/console/page",m={require:t,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/admin/console/page",pathname:"/admin/console",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},76984:(e,s,t)=>{Promise.resolve().then(t.bind(t,30534))},93906:(e,s,t)=>{Promise.resolve().then(t.bind(t,5264))},30534:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});var a=t(10326),l=t(17577);function r(){let[e,s]=(0,l.useState)(null),[t,r]=(0,l.useState)(null),[o,c]=(0,l.useState)(!0),[d,x]=(0,l.useState)(!1),[m,h]=(0,l.useState)(null);async function p(){try{let e="https://api.levqor.ai",t=localStorage.getItem("admin_token")||"",a={Authorization:`Bearer ${t}`},[l,n]=await Promise.all([fetch(`${e}/api/health/summary`).catch(()=>null),fetch(`${e}/api/admin/autopilot-status`,{headers:a}).catch(()=>null)]);if(l?.ok&&s(await l.json()),n?.ok){let e=await n.json();r(e.autopilot)}}catch(e){console.error("Failed to fetch status:",e)}finally{c(!1)}}async function u(){x(!0),h(null);try{let e=localStorage.getItem("admin_token")||"",s=await fetch("https://api.levqor.ai/api/admin/health-check",{method:"POST",headers:{Authorization:`Bearer ${e}`}});if(s.ok){let e=await s.json();h(e.output||"Health check completed"),p()}else h("Health check failed")}catch(e){h("Error running health check")}finally{x(!1)}}return o?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"})}):(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-2xl font-bold text-white",children:"Founder Command Console"}),a.jsx("p",{className:"text-slate-400 mt-1",children:"System controls and monitoring"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[(0,a.jsxs)("div",{className:"bg-slate-900 rounded-xl border border-slate-800 p-6",children:[(0,a.jsxs)("h2",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[a.jsx("span",{children:"\uD83C\uDFE5"})," Health Summary"]}),(0,a.jsxs)("div",{className:"space-y-3",children:[a.jsx(n,{label:"Application",ok:e?.app_up??!1}),a.jsx(n,{label:"Database",ok:e?.db_ok??!1}),a.jsx(n,{label:"Stripe",ok:e?.stripe_ok??!1}),a.jsx("div",{className:"pt-2 border-t border-slate-800 mt-2",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-slate-400",children:"Overall Status"}),a.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${e?.status==="healthy"?"bg-green-500/20 text-green-400":"bg-yellow-500/20 text-yellow-400"}`,children:e?.status?.toUpperCase()||"UNKNOWN"})]})})]})]}),(0,a.jsxs)("div",{className:"bg-slate-900 rounded-xl border border-slate-800 p-6",children:[(0,a.jsxs)("h2",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[a.jsx("span",{children:"\uD83D\uDEE1️"})," Guardian-Autopilot Mode"]}),(0,a.jsxs)("div",{className:"space-y-3",children:[a.jsx(i,{name:"Guardian Monitor",active:t?.guardian_active??!1}),a.jsx(i,{name:"Growth Engine",active:t?.growth_engine_active??!1}),a.jsx(i,{name:"Compliance Monitor",active:t?.compliance_active??!1}),(0,a.jsxs)("div",{className:"pt-2 border-t border-slate-800 mt-2",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-slate-400",children:"Pending Approvals"}),a.jsx("span",{className:"text-white font-semibold",children:t?.pending_approvals??0})]}),t?.last_health_check&&(0,a.jsxs)("div",{className:"flex justify-between items-center mt-2",children:[a.jsx("span",{className:"text-slate-400",children:"Last Check"}),a.jsx("span",{className:"text-slate-300 text-sm",children:t.last_health_check})]})]})]})]})]}),(0,a.jsxs)("div",{className:"bg-slate-900 rounded-xl border border-slate-800 p-6 mb-8",children:[(0,a.jsxs)("h2",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[a.jsx("span",{children:"\uD83C\uDFAE"})," Safe Controls"]}),a.jsx("p",{className:"text-slate-400 text-sm mb-4",children:"These controls trigger read-only operations. No destructive actions will be performed."}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-3",children:[a.jsx("button",{onClick:u,disabled:d,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-slate-700 text-white rounded-lg transition-colors flex items-center gap-2",children:d?(0,a.jsxs)(a.Fragment,{children:[a.jsx("span",{className:"animate-spin",children:"⏳"}),"Running..."]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx("span",{children:"\uD83D\uDD0D"}),"Run Full Health Check"]})}),(0,a.jsxs)("button",{onClick:p,className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors flex items-center gap-2",children:[a.jsx("span",{children:"\uD83D\uDD04"}),"Refresh Status"]}),(0,a.jsxs)("a",{href:"/api/admin/report",download:!0,className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors flex items-center gap-2",children:[a.jsx("span",{children:"\uD83D\uDCE5"}),"Download System Report"]})]})]}),m&&(0,a.jsxs)("div",{className:"bg-slate-900 rounded-xl border border-slate-800 p-6",children:[(0,a.jsxs)("h2",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[a.jsx("span",{children:"\uD83D\uDCCB"})," Health Check Output"]}),a.jsx("pre",{className:"bg-slate-950 p-4 rounded-lg text-sm text-slate-300 overflow-x-auto whitespace-pre-wrap",children:m})]}),(0,a.jsxs)("div",{className:"mt-8 p-4 bg-yellow-500/10 border border-yellow-500/20 rounded-lg",children:[(0,a.jsxs)("h3",{className:"text-yellow-400 font-semibold mb-2 flex items-center gap-2",children:[a.jsx("span",{children:"⚠️"})," Actions Requiring Approval"]}),a.jsx("p",{className:"text-slate-400 text-sm",children:"The following actions are gated and require explicit founder approval:"}),(0,a.jsxs)("ul",{className:"text-slate-400 text-sm mt-2 list-disc list-inside",children:[a.jsx("li",{children:"Pricing changes"}),a.jsx("li",{children:"Email campaigns to full userbase"}),a.jsx("li",{children:"Database migrations"}),a.jsx("li",{children:"Production redeploys"}),a.jsx("li",{children:"Legal/compliance updates"})]})]})]})}function n({label:e,ok:s}){return(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-slate-400",children:e}),(0,a.jsxs)("span",{className:`flex items-center gap-2 ${s?"text-green-400":"text-red-400"}`,children:[a.jsx("span",{className:`w-2 h-2 rounded-full ${s?"bg-green-500":"bg-red-500"}`}),s?"OK":"DOWN"]})]})}function i({name:e,active:s}){return(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-slate-400",children:e}),a.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${s?"bg-green-500/20 text-green-400":"bg-slate-500/20 text-slate-400"}`,children:s?"ACTIVE":"INACTIVE"})]})}},5264:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>c});var a=t(10326),l=t(76715),r=t(35047),n=t(17577),i=t(90434);process.env.NEXT_PUBLIC_ADMIN_EMAIL;let o=[{href:"/admin",label:"Overview",icon:"\uD83D\uDCCA"},{href:"/admin/console",label:"Command Console",icon:"\uD83C\uDFAE"},{href:"/admin/revenue",label:"Revenue",icon:"\uD83D\uDCB0"},{href:"/admin/users",label:"Users",icon:"\uD83D\uDC65"},{href:"/admin/activity",label:"Activity",icon:"\uD83D\uDCC8"}];function c({children:e}){let{data:s,status:t}=(0,l.kP)();(0,r.useRouter)();let c=(0,r.usePathname)(),[d,x]=(0,n.useState)(!1);return"loading"!==t&&d?a.jsx("div",{className:"min-h-screen bg-slate-950",children:(0,a.jsxs)("div",{className:"flex",children:[a.jsx("aside",{className:"w-64 min-h-screen bg-slate-900 border-r border-slate-800 fixed left-0 top-0 pt-16",children:(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("h2",{className:"text-lg font-bold text-white flex items-center gap-2",children:[a.jsx("span",{className:"text-2xl",children:"\uD83D\uDEE1️"}),"Admin Portal"]}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Founder Access Only"})]}),a.jsx("nav",{className:"space-y-1",children:o.map(e=>{let s=c===e.href;return(0,a.jsxs)(i.default,{href:e.href,className:`flex items-center gap-3 px-3 py-2 rounded-lg transition-colors ${s?"bg-blue-600 text-white":"text-slate-400 hover:bg-slate-800 hover:text-white"}`,children:[a.jsx("span",{children:e.icon}),a.jsx("span",{children:e.label})]},e.href)})}),a.jsx("div",{className:"mt-8 pt-4 border-t border-slate-800",children:a.jsx(i.default,{href:"/dashboard",className:"flex items-center gap-2 text-sm text-slate-500 hover:text-slate-300 transition-colors",children:"← Back to Dashboard"})})]})}),a.jsx("main",{className:"flex-1 ml-64 pt-16 min-h-screen",children:a.jsx("div",{className:"p-6",children:e})})]})}):a.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500 mx-auto mb-4"}),a.jsx("p",{className:"text-slate-400",children:"Verifying admin access..."})]})})}},5103:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(68570).createProxy)(String.raw`/home/runner/workspace/levqor-site/src/app/admin/console/page.tsx#default`)},9457:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(68570).createProxy)(String.raw`/home/runner/workspace/levqor-site/src/app/admin/layout.tsx#default`)}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[8948,4054,1071,4719],()=>t(42495));module.exports=a})();