(()=>{var e={};e.id=9674,e.ids=[9674],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},61543:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>x,pages:()=>c,routeModule:()=>m,tree:()=>d}),s(57459),s(9457),s(95476),s(7629),s(11930),s(12523);var a=s(23191),l=s(88716),r=s(37922),n=s.n(r),i=s(95231),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);s.d(t,o);let d=["",{children:["admin",{children:["users",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,57459)),"/home/runner/workspace/levqor-site/src/app/admin/users/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,9457)),"/home/runner/workspace/levqor-site/src/app/admin/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,95476)),"/home/runner/workspace/levqor-site/src/app/layout.tsx"],error:[()=>Promise.resolve().then(s.bind(s,7629)),"/home/runner/workspace/levqor-site/src/app/error.tsx"],loading:[()=>Promise.resolve().then(s.bind(s,11930)),"/home/runner/workspace/levqor-site/src/app/loading.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,12523)),"/home/runner/workspace/levqor-site/src/app/not-found.tsx"]}],c=["/home/runner/workspace/levqor-site/src/app/admin/users/page.tsx"],x="/admin/users/page",u={require:s,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/admin/users/page",pathname:"/admin/users",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},93906:(e,t,s)=>{Promise.resolve().then(s.bind(s,5264))},45405:(e,t,s)=>{Promise.resolve().then(s.bind(s,19505))},5264:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var a=s(10326),l=s(76715),r=s(35047),n=s(17577),i=s(90434);process.env.NEXT_PUBLIC_ADMIN_EMAIL;let o=[{href:"/admin",label:"Overview",icon:"\uD83D\uDCCA"},{href:"/admin/console",label:"Command Console",icon:"\uD83C\uDFAE"},{href:"/admin/revenue",label:"Revenue",icon:"\uD83D\uDCB0"},{href:"/admin/users",label:"Users",icon:"\uD83D\uDC65"},{href:"/admin/activity",label:"Activity",icon:"\uD83D\uDCC8"}];function d({children:e}){let{data:t,status:s}=(0,l.kP)();(0,r.useRouter)();let d=(0,r.usePathname)(),[c,x]=(0,n.useState)(!1);return"loading"!==s&&c?a.jsx("div",{className:"min-h-screen bg-slate-950",children:(0,a.jsxs)("div",{className:"flex",children:[a.jsx("aside",{className:"w-64 min-h-screen bg-slate-900 border-r border-slate-800 fixed left-0 top-0 pt-16",children:(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("h2",{className:"text-lg font-bold text-white flex items-center gap-2",children:[a.jsx("span",{className:"text-2xl",children:"\uD83D\uDEE1️"}),"Admin Portal"]}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Founder Access Only"})]}),a.jsx("nav",{className:"space-y-1",children:o.map(e=>{let t=d===e.href;return(0,a.jsxs)(i.default,{href:e.href,className:`flex items-center gap-3 px-3 py-2 rounded-lg transition-colors ${t?"bg-blue-600 text-white":"text-slate-400 hover:bg-slate-800 hover:text-white"}`,children:[a.jsx("span",{children:e.icon}),a.jsx("span",{children:e.label})]},e.href)})}),a.jsx("div",{className:"mt-8 pt-4 border-t border-slate-800",children:a.jsx(i.default,{href:"/dashboard",className:"flex items-center gap-2 text-sm text-slate-500 hover:text-slate-300 transition-colors",children:"← Back to Dashboard"})})]})}),a.jsx("main",{className:"flex-1 ml-64 pt-16 min-h-screen",children:a.jsx("div",{className:"p-6",children:e})})]})}):a.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500 mx-auto mb-4"}),a.jsx("p",{className:"text-slate-400",children:"Verifying admin access..."})]})})}},19505:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});var a=s(10326),l=s(17577);function r(){let[e,t]=(0,l.useState)(null),[s,r]=(0,l.useState)(!0),[d,c]=(0,l.useState)(1),[x,u]=(0,l.useState)(""),[m,h]=(0,l.useState)(""),[p,b]=(0,l.useState)(null),[j,v]=(0,l.useState)(!1);async function g(e){v(!0);try{let t=localStorage.getItem("admin_token")||"",s=await fetch(`https://api.levqor.ai/api/admin/users/${e}`,{headers:{Authorization:`Bearer ${t}`}});if(s.ok){let e=await s.json();b(e.user)}}catch(e){console.error("Failed to fetch user detail:",e)}finally{v(!1)}}return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-2xl font-bold text-white",children:"User Management"}),a.jsx("p",{className:"text-slate-400 mt-1",children:"View user accounts and subscription status (READ-ONLY)"})]}),(0,a.jsxs)("div",{className:"flex gap-4 mb-6",children:[(0,a.jsxs)("select",{value:x,onChange:e=>{u(e.target.value),c(1)},className:"bg-slate-800 border border-slate-700 rounded-lg px-3 py-2 text-white",children:[a.jsx("option",{value:"",children:"All Plans"}),a.jsx("option",{value:"free",children:"Free"}),a.jsx("option",{value:"starter",children:"Starter"}),a.jsx("option",{value:"launch",children:"Launch"}),a.jsx("option",{value:"growth",children:"Growth"}),a.jsx("option",{value:"agency",children:"Agency"})]}),(0,a.jsxs)("select",{value:m,onChange:e=>{h(e.target.value),c(1)},className:"bg-slate-800 border border-slate-700 rounded-lg px-3 py-2 text-white",children:[a.jsx("option",{value:"",children:"All Statuses"}),a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"trialing",children:"Trialing"}),a.jsx("option",{value:"past_due",children:"Past Due"}),a.jsx("option",{value:"canceled",children:"Canceled"})]})]}),(0,a.jsxs)("div",{className:"bg-slate-900 rounded-xl border border-slate-800 overflow-hidden",children:[a.jsx("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-slate-800/50",children:(0,a.jsxs)("tr",{children:[a.jsx("th",{className:"text-left text-slate-400 text-sm font-medium px-4 py-3",children:"Email"}),a.jsx("th",{className:"text-left text-slate-400 text-sm font-medium px-4 py-3",children:"Plan"}),a.jsx("th",{className:"text-left text-slate-400 text-sm font-medium px-4 py-3",children:"Status"}),a.jsx("th",{className:"text-left text-slate-400 text-sm font-medium px-4 py-3",children:"Created"}),a.jsx("th",{className:"text-left text-slate-400 text-sm font-medium px-4 py-3",children:"Last Seen"}),a.jsx("th",{className:"text-left text-slate-400 text-sm font-medium px-4 py-3",children:"Actions"})]})}),a.jsx("tbody",{children:s?a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"text-center py-8 text-slate-500",children:"Loading..."})}):e?.users&&e.users.length>0?e.users.map(e=>(0,a.jsxs)("tr",{className:"border-t border-slate-800 hover:bg-slate-800/30",children:[a.jsx("td",{className:"px-4 py-3 text-white",children:e.email}),a.jsx("td",{className:"px-4 py-3",children:a.jsx(n,{plan:e.plan})}),a.jsx("td",{className:"px-4 py-3",children:a.jsx(i,{status:e.status})}),a.jsx("td",{className:"px-4 py-3 text-slate-400 text-sm",children:e.created_at?new Date(e.created_at).toLocaleDateString():"N/A"}),a.jsx("td",{className:"px-4 py-3 text-slate-400 text-sm",children:e.last_seen_at?new Date(e.last_seen_at).toLocaleDateString():"Never"}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("button",{onClick:()=>g(e.id),className:"text-blue-400 hover:text-blue-300 text-sm",children:"View Details"})})]},e.id)):a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"text-center py-8 text-slate-500",children:"No users found"})})})]})}),e&&e.pages>1&&(0,a.jsxs)("div",{className:"flex justify-between items-center px-4 py-3 border-t border-slate-800",children:[(0,a.jsxs)("span",{className:"text-slate-400 text-sm",children:["Showing ",(d-1)*(e.limit||20)+1," - ",Math.min(d*(e.limit||20),e.total)," of ",e.total]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>c(e=>Math.max(1,e-1)),disabled:1===d,className:"px-3 py-1 bg-slate-800 text-white rounded disabled:opacity-50",children:"Previous"}),a.jsx("button",{onClick:()=>c(t=>Math.min(e.pages,t+1)),disabled:d===e.pages,className:"px-3 py-1 bg-slate-800 text-white rounded disabled:opacity-50",children:"Next"})]})]})]}),p&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>b(null),children:(0,a.jsxs)("div",{className:"bg-slate-900 rounded-xl border border-slate-800 p-6 max-w-md w-full mx-4",onClick:e=>e.stopPropagation(),children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-lg font-semibold text-white",children:"User Details"}),a.jsx("button",{onClick:()=>b(null),className:"text-slate-400 hover:text-white",children:"✕"})]}),j?a.jsx("div",{className:"py-8 text-center text-slate-400",children:"Loading..."}):(0,a.jsxs)("div",{className:"space-y-3",children:[a.jsx(o,{label:"Email",value:p.email}),a.jsx(o,{label:"Plan",value:a.jsx(n,{plan:p.plan})}),a.jsx(o,{label:"Status",value:a.jsx(i,{status:p.status})}),a.jsx(o,{label:"Workflows",value:String(p.workflows_count)}),a.jsx(o,{label:"Stripe Connected",value:p.has_stripe?"Yes":"No"}),a.jsx(o,{label:"Created",value:p.created_at?new Date(p.created_at).toLocaleDateString():"N/A"}),a.jsx(o,{label:"Last Seen",value:p.last_seen_at?new Date(p.last_seen_at).toLocaleDateString():"Never"})]}),a.jsx("div",{className:"mt-6 p-3 bg-yellow-500/10 border border-yellow-500/20 rounded-lg",children:a.jsx("p",{className:"text-yellow-400 text-xs",children:"This is a read-only view. User modifications are not available from this dashboard."})})]})})]})}function n({plan:e}){let t={free:"bg-slate-500/20 text-slate-400",starter:"bg-blue-500/20 text-blue-400",launch:"bg-green-500/20 text-green-400",growth:"bg-purple-500/20 text-purple-400",agency:"bg-orange-500/20 text-orange-400"};return a.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${t[e.toLowerCase()]||t.free}`,children:e.toUpperCase()})}function i({status:e}){let t={active:"bg-green-500/20 text-green-400",trialing:"bg-blue-500/20 text-blue-400",past_due:"bg-red-500/20 text-red-400",canceled:"bg-slate-500/20 text-slate-400",free:"bg-slate-500/20 text-slate-400"};return a.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${t[e.toLowerCase()]||t.free}`,children:e.toUpperCase()})}function o({label:e,value:t}){return(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-slate-400",children:e}),a.jsx("span",{className:"text-white",children:t})]})}},9457:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(68570).createProxy)(String.raw`/home/runner/workspace/levqor-site/src/app/admin/layout.tsx#default`)},57459:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(68570).createProxy)(String.raw`/home/runner/workspace/levqor-site/src/app/admin/users/page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[8948,4054,1071,4719],()=>s(61543));module.exports=a})();