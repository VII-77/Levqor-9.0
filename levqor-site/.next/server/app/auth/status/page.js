"use strict";(()=>{var e={};e.id=905,e.ids=[905],e.modules={72934:e=>{e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},84770:e=>{e.exports=require("crypto")},79001:(e,s,r)=>{r.r(s),r.d(s,{GlobalError:()=>l.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>d,routeModule:()=>p,tree:()=>c}),r(43152),r(95476),r(7629),r(11930),r(12523);var t=r(23191),a=r(88716),n=r(37922),l=r.n(n),i=r(95231),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);r.d(s,o);let c=["",{children:["auth",{children:["status",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,43152)),"/home/runner/workspace/levqor-site/src/app/auth/status/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,95476)),"/home/runner/workspace/levqor-site/src/app/layout.tsx"],error:[()=>Promise.resolve().then(r.bind(r,7629)),"/home/runner/workspace/levqor-site/src/app/error.tsx"],loading:[()=>Promise.resolve().then(r.bind(r,11930)),"/home/runner/workspace/levqor-site/src/app/loading.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,12523)),"/home/runner/workspace/levqor-site/src/app/not-found.tsx"]}],d=["/home/runner/workspace/levqor-site/src/app/auth/status/page.tsx"],m="/auth/status/page",x={require:r,loadChunk:()=>Promise.resolve()},p=new t.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/auth/status/page",pathname:"/auth/status",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},43152:(e,s,r)=>{r.r(s),r.d(s,{default:()=>i});var t=r(19510),a=r(35089),n=r(58585),l=r(57371);async function i(){let e=await (0,a.I8)();e?.user||(0,n.redirect)("/signin?callbackUrl=/auth/status");let s=function(){let e=process.env.NEXTAUTH_URL||"https://www.levqor.ai";return[{name:"Google",envPresent:!!(process.env.GOOGLE_CLIENT_ID&&process.env.GOOGLE_CLIENT_SECRET),callbackUrl:`${e}/api/auth/callback/google`,instructions:"In Google Cloud Console, add the callback URL to OAuth 2.0 authorized redirect URIs."},{name:"Microsoft (Azure AD)",envPresent:!!(process.env.MICROSOFT_CLIENT_ID&&process.env.MICROSOFT_CLIENT_SECRET),callbackUrl:`${e}/api/auth/callback/azure-ad`,instructions:"In Azure Portal, add the callback URL to Authentication > Platform configurations > Web."},{name:"Email (Resend)",envPresent:!!process.env.RESEND_API_KEY,callbackUrl:"N/A - Email verification",instructions:"Ensure RESEND_API_KEY is set with a valid Resend API key."},{name:"Credentials (Admin)",envPresent:!!(process.env.ADMIN_EMAIL&&process.env.ADMIN_PASSWORD),callbackUrl:"N/A - Direct login",instructions:"Set ADMIN_EMAIL and ADMIN_PASSWORD environment variables for admin access."}]}(),r=process.env.NEXTAUTH_URL||"Not set",i=process.env.NEXTAUTH_SECRET?"Set":"Not set";return t.jsx("main",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-8",children:(0,t.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,t.jsxs)("div",{className:"mb-8",children:[t.jsx(l.default,{href:"/dashboard",className:"text-blue-600 hover:underline text-sm mb-4 inline-block",children:"â† Back to Dashboard"}),t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Auth Configuration Status"}),t.jsx("p",{className:"text-gray-600 mt-2",children:"This page shows the configuration status of authentication providers."})]}),(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Core Settings"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[t.jsx("span",{className:"font-medium text-gray-700",children:"NEXTAUTH_URL"}),t.jsx("code",{className:"text-sm bg-gray-100 px-2 py-1 rounded",children:r})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[t.jsx("span",{className:"font-medium text-gray-700",children:"NEXTAUTH_SECRET"}),t.jsx("span",{className:`px-2 py-1 rounded text-sm font-medium ${"Set"===i?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:i})]})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Provider Status"}),t.jsx("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[t.jsx("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-gray-200",children:[t.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Provider"}),t.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"ENV Present"}),t.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Callback URL"})]})}),t.jsx("tbody",{children:s.map(e=>(0,t.jsxs)("tr",{className:"border-b border-gray-100",children:[t.jsx("td",{className:"py-3 px-4 font-medium text-gray-900",children:e.name}),t.jsx("td",{className:"py-3 px-4",children:(0,t.jsxs)("span",{className:`inline-flex items-center gap-1.5 px-2 py-1 rounded text-sm font-medium ${e.envPresent?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[e.envPresent?t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),e.envPresent?"Yes":"No"]})}),t.jsx("td",{className:"py-3 px-4",children:t.jsx("code",{className:"text-xs bg-gray-100 px-2 py-1 rounded break-all",children:e.callbackUrl})})]},e.name))})]})})]}),(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"How to Fix"}),(0,t.jsxs)("div",{className:"space-y-4",children:[s.filter(e=>!e.envPresent).map(e=>(0,t.jsxs)("div",{className:"p-4 bg-amber-50 border border-amber-200 rounded-lg",children:[t.jsx("h3",{className:"font-semibold text-amber-800",children:e.name}),t.jsx("p",{className:"text-sm text-amber-700 mt-1",children:e.instructions}),"N/A - Email verification"!==e.callbackUrl&&"N/A - Direct login"!==e.callbackUrl&&(0,t.jsxs)("div",{className:"mt-2",children:[t.jsx("span",{className:"text-xs text-amber-600",children:"Required callback URL:"}),t.jsx("code",{className:"block mt-1 text-xs bg-amber-100 p-2 rounded break-all",children:e.callbackUrl})]})]},e.name)),s.every(e=>e.envPresent)&&(0,t.jsxs)("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[t.jsx("h3",{className:"font-semibold text-green-800",children:"All providers configured"}),t.jsx("p",{className:"text-sm text-green-700 mt-1",children:"All authentication providers have their environment variables set. If you still experience issues, verify the callback URLs are correctly registered."})]})]})]}),t.jsx("div",{className:"mt-6 text-center text-sm text-gray-500",children:(0,t.jsxs)("p",{children:["Logged in as: ",e.user?.email]})})]})})}},35089:(e,s,r)=>{r.d(s,{I8:()=>p,handlers:()=>d});var t=r(38282),a=r(8204),n=r(68315),l=r(80772);let i=["mailinator.com","tempmail.com","guerrillamail.com","temp-mail.org"];async function o(e,s,r,t){try{await fetch("https://api.levqor.ai/audit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({event:e,email:s,user_agent:r,ip:t,ts:Date.now()})}).catch(()=>{})}catch(e){}}let c={providers:function(){let e=[(0,l.Z)({name:"credentials",credentials:{email:{label:"Email",type:"email"},password:{label:"Password",type:"password"}},async authorize(e){let s=process.env.ADMIN_EMAIL,r=process.env.ADMIN_PASSWORD;if(!s||!r)throw Error("Admin credentials not configured");let t=e?.email,a=e?.password;if(t===s&&a===r)return{id:"admin",name:"Admin",email:s};throw Error("Invalid credentials")}})];return process.env.GOOGLE_CLIENT_ID&&process.env.GOOGLE_CLIENT_SECRET&&e.push((0,a.Z)({clientId:process.env.GOOGLE_CLIENT_ID,clientSecret:process.env.GOOGLE_CLIENT_SECRET,allowDangerousEmailAccountLinking:!0})),process.env.MICROSOFT_CLIENT_ID&&process.env.MICROSOFT_CLIENT_SECRET&&e.push((0,n.Z)({clientId:process.env.MICROSOFT_CLIENT_ID,clientSecret:process.env.MICROSOFT_CLIENT_SECRET,allowDangerousEmailAccountLinking:!0})),e}(),pages:{signIn:"/signin"},session:{strategy:"jwt",maxAge:3600},callbacks:{async signIn({user:e,account:s,profile:r}){let t=(e.email||"").split("@")[1];return!i.includes(t)}},events:{async signIn(e){let s=e.user.email||"unknown";await o("sign_in",s,void 0,void 0)},async signOut(e){let s=e.token?.email||"unknown";await o("sign_out",s,void 0,void 0)}}},{handlers:d,signIn:m,signOut:x,auth:p}=(0,t.ZP)(c)}};var s=require("../../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),t=s.X(0,[8948,4054,8503,7070,1826,4719],()=>r(79001));module.exports=t})();